"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[843],{1314:function(e,t,n){n.d(t,{He:function(){return c},Ld:function(){return F},eC:function(){return A},f3:function(){return a},iG:function(){return l},sb:function(){return C},ys:function(){return i}});var s=n(1132),r=n(7294);const o=Symbol.for("Animated:node"),i=e=>e&&e[o],a=(e,t)=>(0,s.dE)(e,o,t),c=e=>e&&e[o]&&e[o].getPayload();class u{constructor(){this.payload=void 0,a(this,this)}getPayload(){return this.payload||[]}}class l extends u{constructor(e){super(),this.done=!0,this.elapsedTime=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.v0=void 0,this.durationProgress=0,this._value=e,s.is.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new l(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return s.is.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,s.is.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}class A extends l{constructor(e){super(0),this._string=null,this._toString=void 0,this._toString=(0,s.mD)({output:[e,e]})}static create(e){return new A(e)}getValue(){let e=this._string;return null==e?this._string=this._toString(this._value):e}setValue(e){if(s.is.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!super.setValue(e))return!1;this._string=null}return!0}reset(e){e&&(this._toString=(0,s.mD)({output:[this.getValue(),e]})),this._value=0,super.reset()}}const d={dependencies:null};class B extends u{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return(0,s.rU)(this.source,((n,r)=>{var i;(i=n)&&i[o]===i?t[r]=n.getValue(e):(0,s.j$)(n)?t[r]=(0,s.je)(n):e||(t[r]=n)})),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&(0,s.S6)(this.payload,(e=>e.reset()))}_makePayload(e){if(e){const t=new Set;return(0,s.rU)(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){d.dependencies&&(0,s.j$)(e)&&d.dependencies.add(e);const t=c(e);t&&(0,s.S6)(t,(e=>this.add(e)))}}class h extends B{constructor(e){super(e)}static create(e){return new h(e)}getValue(){return this.source.map((e=>e.getValue()))}setValue(e){const t=this.getPayload();return e.length==t.length?t.map(((t,n)=>t.setValue(e[n]))).some(Boolean):(super.setValue(e.map(f)),!0)}}function f(e){return((0,s.Df)(e)?A:l).create(e)}function C(e){const t=i(e);return t?t.constructor:s.is.arr(e)?h:(0,s.Df)(e)?A:l}function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},p.apply(this,arguments)}const m=(e,t)=>{const n=!s.is.fun(e)||e.prototype&&e.prototype.isReactComponent;return(0,r.forwardRef)(((o,i)=>{const a=(0,r.useRef)(null),c=n&&(0,r.useCallback)((e=>{a.current=function(e,t){e&&(s.is.fun(e)?e(t):e.current=t);return t}(i,e)}),[i]),[u,l]=function(e,t){const n=new Set;d.dependencies=n,e.style&&(e=p({},e,{style:t.createAnimatedStyle(e.style)}));return e=new B(e),d.dependencies=null,[e,n]}(o,t),A=(0,s.NW)(),h=()=>{const e=a.current;if(n&&!e)return;!1===(!!e&&t.applyAnimatedValues(e,u.getValue(!0)))&&A()},f=new g(h,l),C=(0,r.useRef)();(0,s.LI)((()=>(C.current=f,(0,s.S6)(l,(e=>(0,s.UI)(e,f))),()=>{C.current&&((0,s.S6)(C.current.deps,(e=>(0,s.iL)(e,C.current))),s.Wn.cancel(C.current.update))}))),(0,r.useEffect)(h,[]),(0,s.tf)((()=>()=>{const e=C.current;(0,s.S6)(e.deps,(t=>(0,s.iL)(t,e)))}));const m=t.getComponentProps(u.getValue());return r.createElement(e,p({},m,{ref:c}))}))};class g{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){"change"==e.type&&s.Wn.write(this.update)}}const M=Symbol.for("AnimatedComponent"),F=(e,{applyAnimatedValues:t=(()=>!1),createAnimatedStyle:n=(e=>new B(e)),getComponentProps:r=(e=>e)}={})=>{const o={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:r},i=e=>{const t=E(e)||"Anonymous";return(e=s.is.str(e)?i[e]||(i[e]=m(e,o)):e[M]||(e[M]=m(e,o))).displayName=`Animated(${t})`,e};return(0,s.rU)(e,((t,n)=>{s.is.arr(e)&&(n=E(t)),i[n]=i(t)})),{animated:i}},E=e=>s.is.str(e)?e:e&&s.is.str(e.displayName)?e.displayName:s.is.fun(e)&&e.name||null},4928:function(e,t,n){n.d(t,{Globals:function(){return s.OH},config:function(){return F},useSpring:function(){return ye}});var s=n(1132),r=n(7294),o=n(1314);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},i.apply(this,arguments)}function a(e,...t){return s.is.fun(e)?e(...t):e}const c=(e,t)=>!0===e||!!(t&&e&&(s.is.fun(e)?e(t):(0,s.qo)(e).includes(t))),u=(e,t)=>s.is.obj(e)?t&&e[t]:e,l=(e,t)=>!0===e.default?e[t]:e.default?e.default[t]:void 0,A=e=>e,d=(e,t=A)=>{let n=B;e.default&&!0!==e.default&&(e=e.default,n=Object.keys(e));const r={};for(const o of n){const n=t(e[o],o);s.is.und(n)||(r[o]=n)}return r},B=["config","onProps","onStart","onChange","onPause","onResume","onRest"],h={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function f(e){const t=function(e){const t={};let n=0;if((0,s.rU)(e,((e,s)=>{h[s]||(t[s]=e,n++)})),n)return t}(e);if(t){const n={to:t};return(0,s.rU)(e,((e,s)=>s in t||(n[s]=e))),n}return i({},e)}function C(e){return e=(0,s.je)(e),s.is.arr(e)?e.map(C):(0,s.Df)(e)?s.OH.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function p(e){for(const t in e)return!0;return!1}function m(e){return s.is.fun(e)||s.is.arr(e)&&s.is.obj(e[0])}function g(e,t){var n;null==(n=e.ref)||n.delete(e),null==t||t.delete(e)}function M(e,t){var n;t&&e.ref!==t&&(null==(n=e.ref)||n.delete(e),t.add(e),e.ref=t)}const F={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},E=1.70158,G=1.525*E,I=E+1,y=2*Math.PI/3,R=2*Math.PI/4.5,D=e=>{const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},b={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>0===e?0:Math.pow(2,10*e-10),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>I*e*e*e-E*e*e,easeOutBack:e=>1+I*Math.pow(e-1,3)+E*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*(7.189819*e-G)/2:(Math.pow(2*e-2,2)*((G+1)*(2*e-2)+G)+2)/2,easeInElastic:e=>0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*y),easeOutElastic:e=>0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*y)+1,easeInOutElastic:e=>0===e?0:1===e?1:e<.5?-Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*R)/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*R)/2+1,easeInBounce:e=>1-D(1-e),easeOutBounce:D,easeInOutBounce:e=>e<.5?(1-D(1-2*e))/2:(1+D(2*e-1))/2},H=i({},F.default,{mass:1,damping:1,easing:b.linear,clamp:!1});class v{constructor(){this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,H)}}function J(e,t){if(s.is.und(t.decay)){const n=!s.is.und(t.tension)||!s.is.und(t.friction);!n&&s.is.und(t.frequency)&&s.is.und(t.damping)&&s.is.und(t.mass)||(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}else e.duration=void 0}const T=[];class S{constructor(){this.changed=!1,this.values=T,this.toValues=null,this.fromValues=T,this.to=void 0,this.from=void 0,this.config=new v,this.immediate=!1}}function L(e,{key:t,props:n,defaultProps:r,state:o,actions:u}){return new Promise(((l,A)=>{var d;let B,h,f=c(null!=(d=n.cancel)?d:null==r?void 0:r.cancel,t);if(f)m();else{s.is.und(n.pause)||(o.paused=c(n.pause,t));let e=null==r?void 0:r.pause;!0!==e&&(e=o.paused||c(e,t)),B=a(n.delay||0,t),e?(o.resumeQueue.add(p),u.pause()):(u.resume(),p())}function C(){o.resumeQueue.add(p),o.timeouts.delete(h),h.cancel(),B=h.time-s.Wn.now()}function p(){B>0&&!s.OH.skipAnimation?(o.delayed=!0,h=s.Wn.setTimeout(m,B),o.pauseQueue.add(C),o.timeouts.add(h)):m()}function m(){o.delayed&&(o.delayed=!1),o.pauseQueue.delete(C),o.timeouts.delete(h),e<=(o.cancelId||0)&&(f=!0);try{u.start(i({},n,{callId:e,cancel:f}),l)}catch(t){A(t)}}}))}const P=(e,t)=>1==t.length?t[0]:t.some((e=>e.cancelled))?U(e.get()):t.every((e=>e.noop))?w(e.get()):O(e.get(),t.every((e=>e.finished))),w=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),O=(e,t,n=!1)=>({value:e,finished:t,cancelled:n}),U=e=>({value:e,cancelled:!0,finished:!1});function x(e,t,n,r){const{callId:o,parentId:a,onRest:c}=t,{asyncTo:u,promise:l}=n;return a||e!==u||t.reset?n.promise=(async()=>{n.asyncId=o,n.asyncTo=e;const A=d(t,((e,t)=>"onRest"===t?void 0:e));let B,h;const f=new Promise(((e,t)=>(B=e,h=t))),C=e=>{const t=o<=(n.cancelId||0)&&U(r)||o!==n.asyncId&&O(r,!1);if(t)throw e.result=t,h(e),e},p=(e,t)=>{const a=new K,c=new Q;return(async()=>{if(s.OH.skipAnimation)throw _(n),c.result=O(r,!1),h(c),c;C(a);const u=s.is.obj(e)?i({},e):i({},t,{to:e});u.parentId=o,(0,s.rU)(A,((e,t)=>{s.is.und(u[t])&&(u[t]=e)}));const l=await r.start(u);return C(a),n.paused&&await new Promise((e=>{n.resumeQueue.add(e)})),l})()};let m;if(s.OH.skipAnimation)return _(n),O(r,!1);try{let t;t=s.is.arr(e)?(async e=>{for(const t of e)await p(t)})(e):Promise.resolve(e(p,r.stop.bind(r))),await Promise.all([t.then(B),f]),m=O(r.get(),!0,!1)}catch(g){if(g instanceof K)m=g.result;else{if(!(g instanceof Q))throw g;m=g.result}}finally{o==n.asyncId&&(n.asyncId=a,n.asyncTo=a?u:void 0,n.promise=a?l:void 0)}return s.is.fun(c)&&s.Wn.batchedUpdates((()=>{c(m,r,r.item)})),m})():l}function _(e,t){(0,s.yl)(e.timeouts,(e=>e.cancel())),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}class K extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise."),this.result=void 0}}class Q extends Error{constructor(){super("SkipAnimationSignal"),this.result=void 0}}const k=e=>e instanceof j;let N=1;class j extends s.B0{constructor(...e){super(...e),this.id=N++,this.key=void 0,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=(0,o.ys)(this);return e&&e.getValue()}to(...e){return s.OH.to(this,e)}interpolate(...e){return(0,s.LW)(),s.OH.to(this,e)}toJSON(){return this.get()}observerAdded(e){1==e&&this._attach()}observerRemoved(e){0==e&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){(0,s.k0)(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||s.fT.sort(this),(0,s.k0)(this,{type:"priority",parent:this,priority:e})}}const X=Symbol.for("SpringPhase"),Y=e=>(1&e[X])>0,Z=e=>(2&e[X])>0,V=e=>(4&e[X])>0,W=(e,t)=>t?e[X]|=3:e[X]&=-3,q=(e,t)=>t?e[X]|=4:e[X]&=-5;class z extends j{constructor(e,t){if(super(),this.key=void 0,this.animation=new S,this.queue=void 0,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!s.is.und(e)||!s.is.und(t)){const n=s.is.obj(e)?i({},e):i({},t,{from:e});s.is.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(Z(this)||this._state.asyncTo)||V(this)}get goal(){return(0,s.je)(this.animation.to)}get velocity(){const e=(0,o.ys)(this);return e instanceof o.iG?e.lastVelocity||0:e.getPayload().map((e=>e.lastVelocity||0))}get hasAnimated(){return Y(this)}get isAnimating(){return Z(this)}get isPaused(){return V(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,n=!1;const r=this.animation;let{config:i,toValues:a}=r;const c=(0,o.He)(r.to);!c&&(0,s.j$)(r.to)&&(a=(0,s.qo)((0,s.je)(r.to))),r.values.forEach(((u,l)=>{if(u.done)return;const A=u.constructor==o.eC?1:c?c[l].lastPosition:a[l];let d=r.immediate,B=A;if(!d){if(B=u.lastPosition,i.tension<=0)return void(u.done=!0);let t=u.elapsedTime+=e;const n=r.fromValues[l],o=null!=u.v0?u.v0:u.v0=s.is.arr(i.velocity)?i.velocity[l]:i.velocity;let a;if(s.is.und(i.duration))if(i.decay){const e=!0===i.decay?.998:i.decay,s=Math.exp(-(1-e)*t);B=n+o/(1-e)*(1-s),d=Math.abs(u.lastPosition-B)<.1,a=o*s}else{a=null==u.lastVelocity?o:u.lastVelocity;const t=i.precision||(n==A?.005:Math.min(1,.001*Math.abs(A-n))),r=i.restVelocity||t/10,c=i.clamp?0:i.bounce,l=!s.is.und(c),h=n==A?u.v0>0:n<A;let f,C=!1;const p=1,m=Math.ceil(e/p);for(let e=0;e<m&&(f=Math.abs(a)>r,f||(d=Math.abs(A-B)<=t,!d));++e){l&&(C=B==A||B>A==h,C&&(a=-a*c,B=A));a+=(1e-6*-i.tension*(B-A)+.001*-i.friction*a)/i.mass*p,B+=a*p}}else{let s=1;i.duration>0&&(this._memoizedDuration!==i.duration&&(this._memoizedDuration=i.duration,u.durationProgress>0&&(u.elapsedTime=i.duration*u.durationProgress,t=u.elapsedTime+=e)),s=(i.progress||0)+t/this._memoizedDuration,s=s>1?1:s<0?0:s,u.durationProgress=s),B=n+i.easing(s)*(A-n),a=(B-u.lastPosition)/e,d=1==s}u.lastVelocity=a,Number.isNaN(B)&&(console.warn("Got NaN while animating:",this),d=!0)}c&&!c[l].done&&(d=!1),d?u.done=!0:t=!1,u.setValue(B,i.round)&&(n=!0)}));const u=(0,o.ys)(this),l=u.getValue();if(t){const e=(0,s.je)(r.to);l===e&&!n||i.decay?n&&i.decay&&this._onChange(l):(u.setValue(e),this._onChange(e)),this._stop()}else n&&this._onChange(l)}set(e){return s.Wn.batchedUpdates((()=>{this._stop(),this._focus(e),this._set(e)})),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Z(this)){const{to:e,config:t}=this.animation;s.Wn.batchedUpdates((()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()}))}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let n;return s.is.und(e)?(n=this.queue||[],this.queue=[]):n=[s.is.obj(e)?e:i({},t,{to:e})],Promise.all(n.map((e=>this._update(e)))).then((e=>P(this,e)))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),_(this._state,e&&this._lastCallId),s.Wn.batchedUpdates((()=>this._stop(t,e))),this}reset(){this._update({reset:!0})}eventObserved(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:n,from:r}=e;n=s.is.obj(n)?n[t]:n,(null==n||m(n))&&(n=void 0),r=s.is.obj(r)?r[t]:r,null==r&&(r=void 0);const i={to:n,from:r};return Y(this)||(e.reverse&&([n,r]=[r,n]),r=(0,s.je)(r),s.is.und(r)?(0,o.ys)(this)||this._set(n):this._set(r)),i}_update(e,t){let n=i({},e);const{key:r,defaultProps:o}=this;n.default&&Object.assign(o,d(n,((e,t)=>/^on/.test(t)?u(e,r):e))),oe(this,n,"onProps"),ie(this,"onProps",n,this);const a=this._prepareNode(n);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const c=this._state;return L(++this._lastCallId,{key:r,props:n,defaultProps:o,state:c,actions:{pause:()=>{V(this)||(q(this,!0),(0,s.bl)(c.pauseQueue),ie(this,"onPause",O(this,$(this,this.animation.to)),this))},resume:()=>{V(this)&&(q(this,!1),Z(this)&&this._resume(),(0,s.bl)(c.resumeQueue),ie(this,"onResume",O(this,$(this,this.animation.to)),this))},start:this._merge.bind(this,a)}}).then((e=>{if(n.loop&&e.finished&&(!t||!e.noop)){const e=ee(n);if(e)return this._update(e,!0)}return e}))}_merge(e,t,n){if(t.cancel)return this.stop(!0),n(U(this));const r=!s.is.und(e.to),u=!s.is.und(e.from);if(r||u){if(!(t.callId>this._lastToId))return n(U(this));this._lastToId=t.callId}const{key:l,defaultProps:A,animation:d}=this,{to:B,from:h}=d;let{to:f=B,from:p=h}=e;!u||r||t.default&&!s.is.und(f)||(f=p),t.reverse&&([f,p]=[p,f]);const g=!(0,s.Xy)(p,h);g&&(d.from=p),p=(0,s.je)(p);const M=!(0,s.Xy)(f,B);M&&this._focus(f);const F=m(t.to),{config:E}=d,{decay:G,velocity:I}=E;(r||u)&&(E.velocity=0),t.config&&!F&&function(e,t,n){n&&(J(n=i({},n),t),t=i({},n,t)),J(e,t),Object.assign(e,t);for(const s in H)null==e[s]&&(e[s]=H[s]);let{mass:r,frequency:o,damping:a}=e;s.is.und(o)||(o<.01&&(o=.01),a<0&&(a=0),e.tension=Math.pow(2*Math.PI/o,2)*r,e.friction=4*Math.PI*a*r/o)}(E,a(t.config,l),t.config!==A.config?a(A.config,l):void 0);let y=(0,o.ys)(this);if(!y||s.is.und(f))return n(O(this,!0));const R=s.is.und(t.reset)?u&&!t.default:!s.is.und(p)&&c(t.reset,l),D=R?p:this.get(),b=C(f),v=s.is.num(b)||s.is.arr(b)||(0,s.Df)(b),T=!F&&(!v||c(A.immediate||t.immediate,l));if(M){const e=(0,o.sb)(f);if(e!==y.constructor){if(!T)throw Error(`Cannot animate between ${y.constructor.name} and ${e.name}, as the "to" prop suggests`);y=this._set(b)}}const S=y.constructor;let L=(0,s.j$)(f),P=!1;if(!L){const e=R||!Y(this)&&g;(M||e)&&(P=(0,s.Xy)(C(D),b),L=!P),((0,s.Xy)(d.immediate,T)||T)&&(0,s.Xy)(E.decay,G)&&(0,s.Xy)(E.velocity,I)||(L=!0)}if(P&&Z(this)&&(d.changed&&!R?L=!0:L||this._stop(B)),!F&&((L||(0,s.j$)(B))&&(d.values=y.getPayload(),d.toValues=(0,s.j$)(f)?null:S==o.eC?[1]:(0,s.qo)(b)),d.immediate!=T&&(d.immediate=T,T||R||this._set(B)),L)){const{onRest:e}=d;(0,s.S6)(re,(e=>oe(this,t,e)));const r=O(this,$(this,B));(0,s.bl)(this._pendingCalls,r),this._pendingCalls.add(n),d.changed&&s.Wn.batchedUpdates((()=>{d.changed=!R,null==e||e(r,this),R?a(A.onRest,r):null==d.onStart||d.onStart(r,this)}))}R&&this._set(D),F?n(x(t.to,t,this._state,this)):L?this._start():Z(this)&&!M?this._pendingCalls.add(n):n(w(D))}_focus(e){const t=this.animation;e!==t.to&&((0,s.Ll)(this)&&this._detach(),t.to=e,(0,s.Ll)(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;(0,s.j$)(t)&&((0,s.UI)(t,this),k(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;(0,s.j$)(e)&&(0,s.iL)(e,this)}_set(e,t=!0){const n=(0,s.je)(e);if(!s.is.und(n)){const e=(0,o.ys)(this);if(!e||!(0,s.Xy)(n,e.getValue())){const r=(0,o.sb)(n);e&&e.constructor==r?e.setValue(n):(0,o.f3)(this,r.create(n)),e&&s.Wn.batchedUpdates((()=>{this._onChange(n,t)}))}}return(0,o.ys)(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,ie(this,"onStart",O(this,$(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),a(this.animation.onChange,e,this)),a(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;(0,o.ys)(this).reset((0,s.je)(e.to)),e.immediate||(e.fromValues=e.values.map((e=>e.lastPosition))),Z(this)||(W(this,!0),V(this)||this._resume())}_resume(){s.OH.skipAnimation?this.finish():s.fT.start(this)}_stop(e,t){if(Z(this)){W(this,!1);const n=this.animation;(0,s.S6)(n.values,(e=>{e.done=!0})),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),(0,s.k0)(this,{type:"idle",parent:this});const r=t?U(this.get()):O(this.get(),$(this,null!=e?e:n.to));(0,s.bl)(this._pendingCalls,r),n.changed&&(n.changed=!1,ie(this,"onRest",r,this))}}}function $(e,t){const n=C(t),r=C(e.get());return(0,s.Xy)(r,n)}function ee(e,t=e.loop,n=e.to){let s=a(t);if(s){const r=!0!==s&&f(s),o=(r||e).reverse,a=!r||r.reset;return te(i({},e,{loop:t,default:!1,pause:void 0,to:!o||m(n)?n:void 0,from:a?e.from:void 0,reset:a},r))}}function te(e){const{to:t,from:n}=e=f(e),r=new Set;return s.is.obj(t)&&se(t,r),s.is.obj(n)&&se(n,r),e.keys=r.size?Array.from(r):null,e}function ne(e){const t=te(e);return s.is.und(t.default)&&(t.default=d(t)),t}function se(e,t){(0,s.rU)(e,((e,n)=>null!=e&&t.add(n)))}const re=["onStart","onRest","onChange","onPause","onResume"];function oe(e,t,n){e.animation[n]=t[n]!==l(t,n)?u(t[n],e.key):void 0}function ie(e,t,...n){var s,r,o,i;null==(s=(r=e.animation)[t])||s.call(r,...n),null==(o=(i=e.defaultProps)[t])||o.call(i,...n)}const ae=["onStart","onChange","onRest"];let ce=1;class ue{constructor(e,t){this.id=ce++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start(i({default:!0},e))}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every((e=>e.idle&&!e.isDelayed&&!e.isPaused))}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each(((t,n)=>e[n]=t.get())),e}set(e){for(const t in e){const n=e[t];s.is.und(n)||this.springs[t].set(n)}}update(e){return e&&this.queue.push(te(e)),this}start(e){let{queue:t}=this;return e?t=(0,s.qo)(e).map(te):this.queue=[],this._flush?this._flush(this,t):(Ce(this,t),le(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const n=this.springs;(0,s.S6)((0,s.qo)(t),(t=>n[t].stop(!!e)))}else _(this._state,this._lastAsyncId),this.each((t=>t.stop(!!e)));return this}pause(e){if(s.is.und(e))this.start({pause:!0});else{const t=this.springs;(0,s.S6)((0,s.qo)(e),(e=>t[e].pause()))}return this}resume(e){if(s.is.und(e))this.start({pause:!1});else{const t=this.springs;(0,s.S6)((0,s.qo)(e),(e=>t[e].resume()))}return this}each(e){(0,s.rU)(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:n}=this._events,r=this._active.size>0,o=this._changed.size>0;(r&&!this._started||o&&!this._started)&&(this._started=!0,(0,s.yl)(e,(([e,t])=>{t.value=this.get(),e(t,this,this._item)})));const i=!r&&this._started,a=o||i&&n.size?this.get():null;o&&t.size&&(0,s.yl)(t,(([e,t])=>{t.value=a,e(t,this,this._item)})),i&&(this._started=!1,(0,s.yl)(n,(([e,t])=>{t.value=a,e(t,this,this._item)})))}eventObserved(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}s.Wn.onFrame(this._onFrame)}}function le(e,t){return Promise.all(t.map((t=>Ae(e,t)))).then((t=>P(e,t)))}async function Ae(e,t,n){const{keys:r,to:o,from:i,loop:a,onRest:c,onResolve:u}=t,A=s.is.obj(t.default)&&t.default;a&&(t.loop=!1),!1===o&&(t.to=null),!1===i&&(t.from=null);const d=s.is.arr(o)||s.is.fun(o)?o:void 0;d?(t.to=void 0,t.onRest=void 0,A&&(A.onRest=void 0)):(0,s.S6)(ae,(n=>{const r=t[n];if(s.is.fun(r)){const s=e._events[n];t[n]=({finished:e,cancelled:t})=>{const n=s.get(r);n?(e||(n.finished=!1),t&&(n.cancelled=!0)):s.set(r,{value:null,finished:e||!1,cancelled:t||!1})},A&&(A[n]=t[n])}}));const B=e._state;t.pause===!B.paused?(B.paused=t.pause,(0,s.bl)(t.pause?B.pauseQueue:B.resumeQueue)):B.paused&&(t.pause=!0);const h=(r||Object.keys(e.springs)).map((n=>e.springs[n].start(t))),f=!0===t.cancel||!0===l(t,"cancel");(d||f&&B.asyncId)&&h.push(L(++e._lastAsyncId,{props:t,state:B,actions:{pause:s.ZT,resume:s.ZT,start(t,n){f?(_(B,e._lastAsyncId),n(U(e))):(t.onRest=c,n(x(d,t,B,e)))}}})),B.paused&&await new Promise((e=>{B.resumeQueue.add(e)}));const C=P(e,await Promise.all(h));if(a&&C.finished&&(!n||!C.noop)){const n=ee(t,a,o);if(n)return Ce(e,[n]),Ae(e,n,!0)}return u&&s.Wn.batchedUpdates((()=>u(C,e,e.item))),C}function de(e,t){const n=i({},e.springs);return t&&(0,s.S6)((0,s.qo)(t),(e=>{s.is.und(e.keys)&&(e=te(e)),s.is.obj(e.to)||(e=i({},e,{to:void 0})),fe(n,e,(e=>he(e)))})),Be(e,n),n}function Be(e,t){(0,s.rU)(t,((t,n)=>{e.springs[n]||(e.springs[n]=t,(0,s.UI)(t,e))}))}function he(e,t){const n=new z;return n.key=e,t&&(0,s.UI)(n,t),n}function fe(e,t,n){t.keys&&(0,s.S6)(t.keys,(s=>{(e[s]||(e[s]=n(s)))._prepareNode(t)}))}function Ce(e,t){(0,s.S6)(t,(t=>{fe(e.springs,t,(t=>he(t,e)))}))}function pe(e,t){if(null==e)return{};var n,s,r={},o=Object.keys(e);for(s=0;s<o.length;s++)n=o[s],t.indexOf(n)>=0||(r[n]=e[n]);return r}const me=["children"],ge=e=>{let{children:t}=e,n=pe(e,me);const o=(0,r.useContext)(Me),i=n.pause||!!o.pause,a=n.immediate||!!o.immediate;n=(0,s.Pr)((()=>({pause:i,immediate:a})),[i,a]);const{Provider:c}=Me;return r.createElement(c,{value:n},t)},Me=(Fe=ge,Ee={},Object.assign(Fe,r.createContext(Ee)),Fe.Provider._context=Fe,Fe.Consumer._context=Fe,Fe);var Fe,Ee;ge.Provider=Me.Provider,ge.Consumer=Me.Consumer;const Ge=()=>{const e=[],t=function(t){(0,s.ZR)();const r=[];return(0,s.S6)(e,((e,o)=>{if(s.is.und(t))r.push(e.start());else{const s=n(t,e,o);s&&r.push(e.start(s))}})),r};t.current=e,t.add=function(t){e.includes(t)||e.push(t)},t.delete=function(t){const n=e.indexOf(t);~n&&e.splice(n,1)},t.pause=function(){return(0,s.S6)(e,(e=>e.pause(...arguments))),this},t.resume=function(){return(0,s.S6)(e,(e=>e.resume(...arguments))),this},t.set=function(t){(0,s.S6)(e,(e=>e.set(t)))},t.start=function(t){const n=[];return(0,s.S6)(e,((e,r)=>{if(s.is.und(t))n.push(e.start());else{const s=this._getProps(t,e,r);s&&n.push(e.start(s))}})),n},t.stop=function(){return(0,s.S6)(e,(e=>e.stop(...arguments))),this},t.update=function(t){return(0,s.S6)(e,((e,n)=>e.update(this._getProps(t,e,n)))),this};const n=function(e,t,n){return s.is.fun(e)?e(n,t):e};return t._getProps=n,t};function Ie(e,t,n){const o=s.is.fun(t)&&t;o&&!n&&(n=[]);const a=(0,r.useMemo)((()=>o||3==arguments.length?Ge():void 0),[]),c=(0,r.useRef)(0),u=(0,s.NW)(),l=(0,r.useMemo)((()=>({ctrls:[],queue:[],flush(e,t){const n=de(e,t);return c.current>0&&!l.queue.length&&!Object.keys(n).some((t=>!e.springs[t]))?le(e,t):new Promise((s=>{Be(e,n),l.queue.push((()=>{s(le(e,t))})),u()}))}})),[]),A=(0,r.useRef)([...l.ctrls]),d=[],B=(0,s.zH)(e)||0;function h(e,n){for(let s=e;s<n;s++){const e=A.current[s]||(A.current[s]=new ue(null,l.flush)),n=o?o(s,e):t[s];n&&(d[s]=ne(n))}}(0,r.useMemo)((()=>{(0,s.S6)(A.current.slice(e,B),(e=>{g(e,a),e.stop(!0)})),A.current.length=e,h(B,e)}),[e]),(0,r.useMemo)((()=>{h(0,Math.min(B,e))}),n);const f=A.current.map(((e,t)=>de(e,d[t]))),C=(0,r.useContext)(ge),m=(0,s.zH)(C),F=C!==m&&p(C);(0,s.LI)((()=>{c.current++,l.ctrls=A.current;const{queue:e}=l;e.length&&(l.queue=[],(0,s.S6)(e,(e=>e()))),(0,s.S6)(A.current,((e,t)=>{null==a||a.add(e),F&&e.start({default:C});const n=d[t];n&&(M(e,n.ref),e.ref?e.queue.push(n):e.start(n))}))})),(0,s.tf)((()=>()=>{(0,s.S6)(l.ctrls,(e=>e.stop(!0)))}));const E=f.map((e=>i({},e)));return a?[E,a]:E}function ye(e,t){const n=s.is.fun(e),[[r],o]=Ie(1,n?e:[e],n?t||[]:t);return n||2==arguments.length?[r,o]:r}let Re;!function(e){e.MOUNT="mount",e.ENTER="enter",e.UPDATE="update",e.LEAVE="leave"}(Re||(Re={}));class De extends j{constructor(e,t){super(),this.key=void 0,this.idle=!0,this.calc=void 0,this._active=new Set,this.source=e,this.calc=(0,s.mD)(...t);const n=this._get(),r=(0,o.sb)(n);(0,o.f3)(this,r.create(n))}advance(e){const t=this._get(),n=this.get();(0,s.Xy)(t,n)||((0,o.ys)(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&He(this._active)&&ve(this)}_get(){const e=s.is.arr(this.source)?this.source.map(s.je):(0,s.qo)((0,s.je)(this.source));return this.calc(...e)}_start(){this.idle&&!He(this._active)&&(this.idle=!1,(0,s.S6)((0,o.He)(this),(e=>{e.done=!1})),s.OH.skipAnimation?(s.Wn.batchedUpdates((()=>this.advance())),ve(this)):s.fT.start(this))}_attach(){let e=1;(0,s.S6)((0,s.qo)(this.source),(t=>{(0,s.j$)(t)&&(0,s.UI)(t,this),k(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))})),this.priority=e,this._start()}_detach(){(0,s.S6)((0,s.qo)(this.source),(e=>{(0,s.j$)(e)&&(0,s.iL)(e,this)})),this._active.clear(),ve(this)}eventObserved(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=(0,s.qo)(this.source).reduce(((e,t)=>Math.max(e,(k(t)?t.priority:0)+1)),0))}}function be(e){return!1!==e.idle}function He(e){return!e.size||Array.from(e).every(be)}function ve(e){e.idle||(e.idle=!0,(0,s.S6)((0,o.He)(e),(e=>{e.done=!0})),(0,s.k0)(e,{type:"idle",parent:e}))}s.OH.assign({createStringInterpolator:s.qS,to:(e,t)=>new De(e,t)});s.fT.advance},1132:function(e,t,n){n.d(t,{B0:function(){return Fe},OH:function(){return U},UI:function(){return Ge},k0:function(){return Me},O9:function(){return Z},mD:function(){return Be},qS:function(){return Pe},dE:function(){return G},ZR:function(){return Ke},LW:function(){return xe},S6:function(){return R},rU:function(){return D},yl:function(){return H},bl:function(){return v},fT:function(){return k},Ll:function(){return ge},je:function(){return me},j$:function(){return pe},is:function(){return I},Df:function(){return Qe},Xy:function(){return y},ZT:function(){return E},Wn:function(){return r},iL:function(){return Ie},qo:function(){return b},NW:function(){return Ne},LI:function(){return ke},Pr:function(){return je},tf:function(){return Xe},zH:function(){return Ze}});let s=g();const r=e=>f(e,s);let o=g();r.write=e=>f(e,o);let i=g();r.onStart=e=>f(e,i);let a=g();r.onFrame=e=>f(e,a);let c=g();r.onFinish=e=>f(e,c);let u=[];r.setTimeout=(e,t)=>{let n=r.now()+t,s=()=>{let e=u.findIndex((e=>e.cancel==s));~e&&u.splice(e,1),B-=~e?1:0},o={time:n,handler:e,cancel:s};return u.splice(l(n),0,o),B+=1,C(),o};let l=e=>~(~u.findIndex((t=>t.time>e))||~u.length);r.cancel=e=>{i.delete(e),a.delete(e),c.delete(e),s.delete(e),o.delete(e)},r.sync=e=>{h=!0,r.batchedUpdates(e),h=!1},r.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function s(...e){t=e,r.onStart(n)}return s.handler=e,s.cancel=()=>{i.delete(n),t=null},s};let A="undefined"!=typeof window?window.requestAnimationFrame:()=>{};r.use=e=>A=e,r.now="undefined"!=typeof performance?()=>performance.now():Date.now,r.batchedUpdates=e=>e(),r.catch=console.error,r.frameLoop="always",r.advance=()=>{"demand"!==r.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):m()};let d=-1,B=0,h=!1;function f(e,t){h?(t.delete(e),e(0)):(t.add(e),C())}function C(){d<0&&(d=0,"demand"!==r.frameLoop&&A(p))}function p(){~d&&(A(p),r.batchedUpdates(m))}function m(){let e=d;d=r.now();let t=l(d);t&&(M(u.splice(0,t),(e=>e.handler())),B-=t),B?(i.flush(),s.flush(e?Math.min(64,d-e):16.667),a.flush(),o.flush(),c.flush()):d=-1}function g(){let e=new Set,t=e;return{add(n){B+=t!=e||e.has(n)?0:1,e.add(n)},delete:n=>(B-=t==e&&e.has(n)?1:0,e.delete(n)),flush(n){t.size&&(e=new Set,B-=t.size,M(t,(t=>t(n)&&e.add(t))),B+=e.size,t=e)}}}function M(e,t){e.forEach((e=>{try{t(e)}catch(n){r.catch(n)}}))}var F=n(7294);function E(){}const G=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),I={arr:Array.isArray,obj:e=>!!e&&"Object"===e.constructor.name,fun:e=>"function"===typeof e,str:e=>"string"===typeof e,num:e=>"number"===typeof e,und:e=>void 0===e};function y(e,t){if(I.arr(e)){if(!I.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}const R=(e,t)=>e.forEach(t);function D(e,t,n){if(I.arr(e))for(let s=0;s<e.length;s++)t.call(n,e[s],`${s}`);else for(const s in e)e.hasOwnProperty(s)&&t.call(n,e[s],s)}const b=e=>I.und(e)?[]:I.arr(e)?e:[e];function H(e,t){if(e.size){const n=Array.from(e);e.clear(),R(n,t)}}const v=(e,...t)=>H(e,(e=>e(...t))),J=()=>"undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent);let T,S,L=null,P=!1,w=E;const O=e=>{e.to&&(S=e.to),e.now&&(r.now=e.now),void 0!==e.colors&&(L=e.colors),null!=e.skipAnimation&&(P=e.skipAnimation),e.createStringInterpolator&&(T=e.createStringInterpolator),e.requestAnimationFrame&&r.use(e.requestAnimationFrame),e.batchedUpdates&&(r.batchedUpdates=e.batchedUpdates),e.willAdvance&&(w=e.willAdvance),e.frameLoop&&(r.frameLoop=e.frameLoop)};var U=Object.freeze({__proto__:null,get createStringInterpolator(){return T},get to(){return S},get colors(){return L},get skipAnimation(){return P},get willAdvance(){return w},assign:O});const x=new Set;let _=[],K=[],Q=0;const k={get idle(){return!x.size&&!_.length},start(e){Q>e.priority?(x.add(e),r.onStart(N)):(j(e),r(Y))},advance:Y,sort(e){if(Q)r.onFrame((()=>k.sort(e)));else{const t=_.indexOf(e);~t&&(_.splice(t,1),X(e))}},clear(){_=[],x.clear()}};function N(){x.forEach(j),x.clear(),r(Y)}function j(e){_.includes(e)||X(e)}function X(e){_.splice(function(e,t){const n=e.findIndex(t);return n<0?e.length:n}(_,(t=>t.priority>e.priority)),0,e)}function Y(e){const t=K;for(let n=0;n<_.length;n++){const s=_[n];Q=s.priority,s.idle||(w(s),s.advance(e),s.idle||t.push(s))}return Q=0,K=_,K.length=0,_=t,_.length>0}const Z={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},V="[-+]?\\d*\\.?\\d+",W=V+"%";function q(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}const z=new RegExp("rgb"+q(V,V,V)),$=new RegExp("rgba"+q(V,V,V,V)),ee=new RegExp("hsl"+q(V,W,W)),te=new RegExp("hsla"+q(V,W,W,V)),ne=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,se=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,re=/^#([0-9a-fA-F]{6})$/,oe=/^#([0-9a-fA-F]{8})$/;function ie(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function ae(e,t,n){const s=n<.5?n*(1+t):n+t-n*t,r=2*n-s,o=ie(r,s,e+1/3),i=ie(r,s,e),a=ie(r,s,e-1/3);return Math.round(255*o)<<24|Math.round(255*i)<<16|Math.round(255*a)<<8}function ce(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function ue(e){return(parseFloat(e)%360+360)%360/360}function le(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function Ae(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function de(e){let t=function(e){let t;return"number"===typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=re.exec(e))?parseInt(t[1]+"ff",16)>>>0:L&&void 0!==L[e]?L[e]:(t=z.exec(e))?(ce(t[1])<<24|ce(t[2])<<16|ce(t[3])<<8|255)>>>0:(t=$.exec(e))?(ce(t[1])<<24|ce(t[2])<<16|ce(t[3])<<8|le(t[4]))>>>0:(t=ne.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=oe.exec(e))?parseInt(t[1],16)>>>0:(t=se.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=ee.exec(e))?(255|ae(ue(t[1]),Ae(t[2]),Ae(t[3])))>>>0:(t=te.exec(e))?(ae(ue(t[1]),Ae(t[2]),Ae(t[3]))|le(t[4]))>>>0:null}(e);return null===t?e:(t=t||0,`rgba(${(4278190080&t)>>>24}, ${(16711680&t)>>>16}, ${(65280&t)>>>8}, ${(255&t)/255})`)}const Be=(e,t,n)=>{if(I.fun(e))return e;if(I.arr(e))return Be({range:e,output:t,extrapolate:n});if(I.str(e.output[0]))return T(e);const s=e,r=s.output,o=s.range||[0,1],i=s.extrapolateLeft||s.extrapolate||"extend",a=s.extrapolateRight||s.extrapolate||"extend",c=s.easing||(e=>e);return e=>{const t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,o);return function(e,t,n,s,r,o,i,a,c){let u=c?c(e):e;if(u<t){if("identity"===i)return u;"clamp"===i&&(u=t)}if(u>n){if("identity"===a)return u;"clamp"===a&&(u=n)}if(s===r)return s;if(t===n)return e<=t?s:r;t===-1/0?u=-u:n===1/0?u-=t:u=(u-t)/(n-t);u=o(u),s===-1/0?u=-u:r===1/0?u+=s:u=u*(r-s)+s;return u}(e,o[t],o[t+1],r[t],r[t+1],c,i,a,s.map)}};function he(){return he=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},he.apply(this,arguments)}const fe=Symbol.for("FluidValue.get"),Ce=Symbol.for("FluidValue.observers"),pe=e=>Boolean(e&&e[fe]),me=e=>e&&e[fe]?e[fe]():e,ge=e=>e[Ce]||null;function Me(e,t){let n=e[Ce];n&&n.forEach((e=>{!function(e,t){e.eventObserved?e.eventObserved(t):e(t)}(e,t)}))}class Fe{constructor(e){if(this[fe]=void 0,this[Ce]=void 0,!e&&!(e=this.get))throw Error("Unknown getter");Ee(this,e)}}const Ee=(e,t)=>ye(e,fe,t);function Ge(e,t){if(e[fe]){let n=e[Ce];n||ye(e,Ce,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function Ie(e,t){let n=e[Ce];if(n&&n.has(t)){const s=n.size-1;s?n.delete(t):e[Ce]=null,e.observerRemoved&&e.observerRemoved(s,t)}}const ye=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),Re=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,De=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,be=new RegExp(`(${Re.source})(%|[a-z]+)`,"i"),He=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,ve=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,Je=e=>{const[t,n]=Te(e);if(!t||J())return e;const s=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(s)return s.trim();if(n&&n.startsWith("--")){const t=window.getComputedStyle(document.documentElement).getPropertyValue(n);return t||e}return n&&ve.test(n)?Je(n):n||e},Te=e=>{const t=ve.exec(e);if(!t)return[,];const[,n,s]=t;return[n,s]};let Se;const Le=(e,t,n,s,r)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(s)}, ${r})`,Pe=e=>{Se||(Se=L?new RegExp(`(${Object.keys(L).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map((e=>me(e).replace(ve,Je).replace(De,de).replace(Se,de))),n=t.map((e=>e.match(Re).map(Number))),s=n[0].map(((e,t)=>n.map((e=>{if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]})))).map((t=>Be(he({},e,{output:t}))));return e=>{var n;const r=!be.test(t[0])&&(null==(n=t.find((e=>be.test(e))))?void 0:n.replace(Re,""));let o=0;return t[0].replace(Re,(()=>`${s[o++](e)}${r||""}`)).replace(He,Le)}},we="react-spring: ",Oe=e=>{const t=e;let n=!1;if("function"!=typeof t)throw new TypeError(`${we}once requires a function parameter`);return(...e)=>{n||(t(...e),n=!0)}},Ue=Oe(console.warn);function xe(){Ue(`${we}The "interpolate" function is deprecated in v9 (use "to" instead)`)}const _e=Oe(console.warn);function Ke(){_e(`${we}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function Qe(e){return I.str(e)&&("#"==e[0]||/\d/.test(e)||!J()&&ve.test(e)||e in(L||{}))}const ke=J()?F.useEffect:F.useLayoutEffect;function Ne(){const e=(0,F.useState)()[1],t=(()=>{const e=(0,F.useRef)(!1);return ke((()=>(e.current=!0,()=>{e.current=!1})),[]),e})();return()=>{t.current&&e(Math.random())}}function je(e,t){const[n]=(0,F.useState)((()=>({inputs:t,result:e()}))),s=(0,F.useRef)(),r=s.current;let o=r;if(o){Boolean(t&&o.inputs&&function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,o.inputs))||(o={inputs:t,result:e()})}else o=n;return(0,F.useEffect)((()=>{s.current=o,r==n&&(n.inputs=n.result=void 0)}),[o]),o.result}const Xe=e=>(0,F.useEffect)(e,Ye),Ye=[];function Ze(e){const t=(0,F.useRef)();return(0,F.useEffect)((()=>{t.current=e})),t.current}},5449:function(e,t,n){n.d(t,{animated:function(){return u},config:function(){return r.config},useSpring:function(){return r.useSpring}});var s=n(3887),r=n(4928),o=n(1132),i=n(1314),a=n(9477);const c=["primitive"].concat(Object.keys(a).filter((e=>/^[A-Z]/.test(e))).map((e=>e[0].toLowerCase()+e.slice(1))));r.Globals.assign({createStringInterpolator:o.qS,colors:o.O9,frameLoop:"demand"}),(0,s.m)((()=>{o.Wn.advance()}));const u=(0,i.Ld)(c,{applyAnimatedValues:s.i}).animated},7433:function(e,t,n){n.d(t,{c:function(){return a}});var s=n(7462),r=n(7294),o=n(3887),i=n(5878);const a=r.forwardRef((({makeDefault:e,...t},n)=>{const a=(0,o.w)((({set:e})=>e)),c=(0,o.w)((({camera:e})=>e)),u=(0,o.w)((({size:e})=>e)),l=r.useRef(null);return r.useLayoutEffect((()=>{t.manual||(l.current.aspect=u.width/u.height)}),[u,t]),r.useLayoutEffect((()=>{l.current.updateProjectionMatrix()})),r.useLayoutEffect((()=>{if(e){const e=c;return a((()=>({camera:l.current}))),()=>a((()=>({camera:e})))}}),[l,e,a]),r.createElement("perspectiveCamera",(0,s.Z)({ref:(0,i.Z)([l,n])},t))}))},9137:function(e,t,n){n.d(t,{g:function(){return r}});var s=n(9477);function r(e,t,n,r){const o=class extends s.ShaderMaterial{constructor(){const o=Object.entries(e);super({uniforms:o.reduce(((e,[t,n])=>({...e,...s.UniformsUtils.clone({[t]:{value:n}})})),{}),vertexShader:t,fragmentShader:n}),this.key="",o.forEach((([e])=>Object.defineProperty(this,e,{get:()=>this.uniforms[e].value,set:t=>this.uniforms[e].value=t}))),r&&r(this)}};return o.key=s.MathUtils.generateUUID(),o}},9024:function(e,t,n){function s(e,t,n,s){return new(n||(n=Promise))((function(r,o){function i(e){try{c(s.next(e))}catch(e){o(e)}}function a(e){try{c(s.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((s=s.apply(e,t||[])).next())}))}n.d(t,{l:function(){return f}});const r=["geforce 320m","geforce 8600","geforce 8600m gt","geforce 8800 gs","geforce 8800 gt","geforce 9400","geforce 9400m g","geforce 9400m","geforce 9600m gt","geforce 9600m","geforce fx go5200","geforce gt 120","geforce gt 130","geforce gt 330m","geforce gtx 285","google swiftshader","intel g41","intel g45","intel gma 4500mhd","intel gma x3100","intel hd 3000","intel q45","legacy","mali-2","mali-3","mali-4","quadro fx 1500","quadro fx 4","quadro fx 5","radeon hd 2400","radeon hd 2600","radeon hd 4670","radeon hd 4850","radeon hd 4870","radeon hd 5670","radeon hd 5750","radeon hd 6290","radeon hd 6300","radeon hd 6310","radeon hd 6320","radeon hd 6490m","radeon hd 6630m","radeon hd 6750m","radeon hd 6770m","radeon hd 6970m","sgx 543","sgx543"];function o(e){return e.toLowerCase().replace(/^angle ?\((.+)\)*$/,"$1").replace(/\s(\d{1,2}gb|direct3d.+$)|\(r\)| \([^)]+\)$/g,"").replace(/(?:vulkan|opengl) \d+\.\d+(?:\.\d+)?(?: \((.*)\))?/,"$1")}const i="undefined"==typeof window,a=(()=>{if(i)return;const{userAgent:e,platform:t,maxTouchPoints:n}=window.navigator,s=/(iphone|ipod|ipad)/i.test(e),r="iPad"===t||"MacIntel"===t&&n>0&&!window.MSStream;return{isIpad:r,isMobile:/android/i.test(e)||s||r,isSafari12:/Version\/12.+Safari/.test(e)}})();const c=[],u=[];function l(e,t){if(e===t)return 0;const n=e;e.length>t.length&&(e=t,t=n);let s=e.length,r=t.length;for(;s>0&&e.charCodeAt(~-s)===t.charCodeAt(~-r);)s--,r--;let o,i=0;for(;i<s&&e.charCodeAt(i)===t.charCodeAt(i);)i++;if(s-=i,r-=i,0===s)return r;let a,l,A=0,d=0,B=0;for(;d<s;)u[d]=e.charCodeAt(i+d),c[d]=++d;for(;B<r;)for(o=t.charCodeAt(i+B),a=B++,A=B,d=0;d<s;d++)l=o===u[d]?a:a+1,a=c[d],A=c[d]=a>A?l>A?A+1:l:l>a?a+1:l;return A}function A(e){return null!=e}class d extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}}const B=({mobileTiers:e=[0,15,30,60],desktopTiers:t=[0,15,30,60],override:n={},glContext:c,failIfMajorPerformanceCaveat:u=!1,benchmarksURL:B="https://unpkg.com/detect-gpu@4.0.40/dist/benchmarks"}={})=>s(void 0,void 0,void 0,(function*(){const h={};if(i)return{tier:0,type:"SSR"};const{isIpad:f=!!(null==a?void 0:a.isIpad),isMobile:C=!!(null==a?void 0:a.isMobile),screenSize:p=window.screen,loadBenchmarks:m=(e=>s(void 0,void 0,void 0,(function*(){const t=yield fetch(`${B}/${e}`).then((e=>e.json()));if(parseInt(t.shift().split(".")[0],10)<4)throw new d("Detect GPU benchmark data is out of date. Please update to version 4x");return t})))}=n;let{renderer:g}=n;const M=(e,t,n,s,r)=>({device:r,fps:s,gpu:n,isMobile:C,tier:e,type:t});let F,E="";if(g)g=o(g),F=[g];else{const e=c||function(e,t=!1){const n={alpha:!1,antialias:!1,depth:!1,failIfMajorPerformanceCaveat:t,powerPreference:"high-performance",stencil:!1};e&&delete n.powerPreference;const s=window.document.createElement("canvas"),r=s.getContext("webgl",n)||s.getContext("experimental-webgl",n);return null!=r?r:void 0}(null==a?void 0:a.isSafari12,u);if(!e)return M(0,"WEBGL_UNSUPPORTED");const t=e.getExtension("WEBGL_debug_renderer_info");if(t&&(g=e.getParameter(t.UNMASKED_RENDERER_WEBGL)),!g)return M(1,"FALLBACK");E=g,g=o(g),F=function(e,t,n){return"apple gpu"===t?function(e,t,n){if(!n)return[t];const s=function(e){const t=e.createShader(35633),n=e.createShader(35632),s=e.createProgram();if(!(n&&t&&s))return;e.shaderSource(t,"\n    precision highp float;\n    attribute vec3 aPosition;\n    varying float vvv;\n    void main() {\n      vvv = 0.31622776601683794;\n      gl_Position = vec4(aPosition, 1.0);\n    }\n  "),e.shaderSource(n,"\n    precision highp float;\n    varying float vvv;\n    void main() {\n      vec4 enc = vec4(1.0, 255.0, 65025.0, 16581375.0) * vvv;\n      enc = fract(enc);\n      enc -= enc.yzww * vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0, 0.0);\n      gl_FragColor = enc;\n    }\n  "),e.compileShader(t),e.compileShader(n),e.attachShader(s,t),e.attachShader(s,n),e.linkProgram(s),e.detachShader(s,t),e.detachShader(s,n),e.deleteShader(t),e.deleteShader(n),e.useProgram(s);const r=e.createBuffer();e.bindBuffer(34962,r),e.bufferData(34962,new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),35044);const o=e.getAttribLocation(s,"aPosition");e.vertexAttribPointer(o,3,5126,!1,0,0),e.enableVertexAttribArray(o),e.clearColor(1,1,1,1),e.clear(16384),e.viewport(0,0,1,1),e.drawArrays(4,0,3);const i=new Uint8Array(4);return e.readPixels(0,0,1,1,6408,5121,i),e.deleteProgram(s),e.deleteBuffer(r),i.join("")}(e),r="801621810",o="8016218135",i="80162181161",c=(null==a?void 0:a.isIpad)?[["a7",i,12],["a8",o,15],["a8x",o,15],["a9",o,15],["a9x",o,15],["a10",o,15],["a10x",o,15],["a12",r,15],["a12x",r,15],["a12z",r,15],["a14",r,15],["m1",r,15]]:[["a7",i,12],["a8",o,12],["a9",o,15],["a10",o,15],["a11",r,15],["a12",r,15],["a13",r,15],["a14",r,15]];let u;return"80162181255"===s?u=c.filter((([,,e])=>e>=14)):(u=c.filter((([,e])=>e===s)),u.length||(u=c)),u.map((([e])=>`apple ${e} gpu`))}(e,t,n):[t]}(e,g,C)}const G=(yield Promise.all(F.map((function(e){var t;return s(this,void 0,void 0,(function*(){const n=(e=>{const t=C?["adreno","apple","mali-t","mali","nvidia","powervr"]:["intel","apple","amd","radeon","nvidia","geforce"];for(const n of t)if(e.includes(n))return n})(e);if(!n)return;const s=`${C?"m":"d"}-${n}${f?"-ipad":""}.json`,r=h[s]=null!==(t=h[s])&&void 0!==t?t:m(s);let o;try{o=yield r}catch(n){if(n instanceof d)throw n;return}const i=function(e){var t;const n=(e=e.replace(/\([^)]+\)/,"")).match(/\d+/)||e.match(/(\W|^)([A-Za-z]{1,3})(\W|$)/g);return null!==(t=null==n?void 0:n.join("").replace(/\W|amd/g,""))&&void 0!==t?t:""}(e);let a=o.filter((([,e])=>e===i));a.length||(a=o.filter((([t])=>t.includes(e))));const c=a.length;if(0===c)return;let u,[A,,,B]=c>1?a.map((t=>[t,l(e,t[0])])).sort((([,e],[,t])=>e-t))[0][0]:a[0],g=Number.MAX_VALUE;const{devicePixelRatio:M}=window,F=p.width*M*p.height*M;for(const e of B){const[t,n]=e,s=t*n,r=Math.abs(F-s);r<g&&(g=r,u=e)}if(!u)return;const[,,E,G]=u;return[g,E,A,G]}))})))).filter(A).sort((([e=Number.MAX_VALUE,t],[n=Number.MAX_VALUE,s])=>e===n?t-s:e-n));if(!G.length){const e=r.find((e=>g.includes(e)));return e?M(0,"BLOCKLISTED",e):M(1,"FALLBACK",`${g} (${E})`)}const[,I,y,R]=G[0];if(-1===I)return M(0,"BLOCKLISTED",y,I,R);const D=C?e:t;let b=0;for(let e=0;e<D.length;e++)I>=D[e]&&(b=e);return M(b,"BENCHMARK",y,I,R)}));var h=n(4881);const f=e=>(0,h.Rq)((()=>B(e)),["useDetectGPU"])},8626:function(e,t,n){n.d(t,{L:function(){return Ae}});var s=n(9477);const r=new WeakMap;class o extends s.Loader{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,n,r){const o=new s.FileLoader(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(e=>{const n={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(e,n).then(t).catch(r)}),n,r)}decodeDracoFile(e,t,n,s){const r={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:s||this.defaultAttributeTypes,useUniqueIDs:!!n};this.decodeGeometry(e,r).then(t)}decodeGeometry(e,t){for(const r in t.attributeTypes){const e=t.attributeTypes[r];void 0!==e.BYTES_PER_ELEMENT&&(t.attributeTypes[r]=e.name)}const n=JSON.stringify(t);if(r.has(e)){const t=r.get(e);if(t.key===n)return t.promise;if(0===e.byteLength)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let s;const o=this.workerNextTaskID++,i=e.byteLength,a=this._getWorker(o,i).then((n=>(s=n,new Promise(((n,r)=>{s._callbacks[o]={resolve:n,reject:r},s.postMessage({type:"decode",id:o,taskConfig:t,buffer:e},[e])}))))).then((e=>this._createGeometry(e.geometry)));return a.catch((()=>!0)).then((()=>{s&&o&&this._releaseTask(s,o)})),r.set(e,{key:n,promise:a}),a}_createGeometry(e){const t=new s.BufferGeometry;e.index&&t.setIndex(new s.BufferAttribute(e.index.array,1));for(let n=0;n<e.attributes.length;n++){const r=e.attributes[n],o=r.name,i=r.array,a=r.itemSize;t.setAttribute(o,new s.BufferAttribute(i,a))}return t}_loadLibrary(e,t){const n=new s.FileLoader(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),n.setWithCredentials(this.withCredentials),new Promise(((t,s)=>{n.load(e,t,void 0,s)}))}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e="object"!==typeof WebAssembly||"js"===this.decoderConfig.type,t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then((t=>{const n=t[0];e||(this.decoderConfig.wasmBinary=t[1]);const s=i.toString(),r=["/* draco decoder */",n,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join("\n");this.workerSourceURL=URL.createObjectURL(new Blob([r]))})),this.decoderPending}_getWorker(e,t){return this._initDecoder().then((()=>{if(this.workerPool.length<this.workerLimit){const e=new Worker(this.workerSourceURL);e._callbacks={},e._taskCosts={},e._taskLoad=0,e.postMessage({type:"init",decoderConfig:this.decoderConfig}),e.onmessage=function(t){const n=t.data;switch(n.type){case"decode":e._callbacks[n.id].resolve(n);break;case"error":e._callbacks[n.id].reject(n);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+n.type+'"')}},this.workerPool.push(e)}else this.workerPool.sort((function(e,t){return e._taskLoad>t._taskLoad?-1:1}));const n=this.workerPool[this.workerPool.length-1];return n._taskCosts[e]=t,n._taskLoad+=t,n}))}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map((e=>e._taskLoad)))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function i(){let e,t;function n(e,t,n,s,r,o){const i=o.num_components(),a=n.num_points()*i,c=a*r.BYTES_PER_ELEMENT,u=function(e,t){switch(t){case Float32Array:return e.DT_FLOAT32;case Int8Array:return e.DT_INT8;case Int16Array:return e.DT_INT16;case Int32Array:return e.DT_INT32;case Uint8Array:return e.DT_UINT8;case Uint16Array:return e.DT_UINT16;case Uint32Array:return e.DT_UINT32}}(e,r),l=e._malloc(c);t.GetAttributeDataArrayForAllPoints(n,o,u,c,l);const A=new r(e.HEAPF32.buffer,l,a).slice();return e._free(l),{name:s,array:A,itemSize:i}}onmessage=function(s){const r=s.data;switch(r.type){case"init":e=r.decoderConfig,t=new Promise((function(t){e.onModuleLoaded=function(e){t({draco:e})},DracoDecoderModule(e)}));break;case"decode":const s=r.buffer,o=r.taskConfig;t.then((e=>{const t=e.draco,i=new t.Decoder,a=new t.DecoderBuffer;a.Init(new Int8Array(s),s.byteLength);try{const e=function(e,t,s,r){const o=r.attributeIDs,i=r.attributeTypes;let a,c;const u=t.GetEncodedGeometryType(s);if(u===e.TRIANGULAR_MESH)a=new e.Mesh,c=t.DecodeBufferToMesh(s,a);else{if(u!==e.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");a=new e.PointCloud,c=t.DecodeBufferToPointCloud(s,a)}if(!c.ok()||0===a.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+c.error_msg());const l={index:null,attributes:[]};for(const A in o){const s=self[i[A]];let c,u;if(r.useUniqueIDs)u=o[A],c=t.GetAttributeByUniqueId(a,u);else{if(u=t.GetAttributeId(a,e[o[A]]),-1===u)continue;c=t.GetAttribute(a,u)}l.attributes.push(n(e,t,a,A,s,c))}u===e.TRIANGULAR_MESH&&(l.index=function(e,t,n){const s=3*n.num_faces(),r=4*s,o=e._malloc(r);t.GetTrianglesUInt32Array(n,r,o);const i=new Uint32Array(e.HEAPF32.buffer,o,s).slice();return e._free(o),{array:i,itemSize:1}}(e,t,a));return e.destroy(a),l}(t,i,a,o),s=e.attributes.map((e=>e.array.buffer));e.index&&s.push(e.index.array.buffer),self.postMessage({type:"decode",id:r.id,geometry:e},s)}catch(c){console.error(c),self.postMessage({type:"error",id:r.id,error:c.message})}finally{t.destroy(a),t.destroy(i)}}))}}}let a;const c=()=>{if(a)return a;const e=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),t=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if("object"!==typeof WebAssembly)return{supported:!1};let n,s="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";WebAssembly.validate(e)&&(s="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB");const r=WebAssembly.instantiate(function(e){const n=new Uint8Array(e.length);for(let t=0;t<e.length;++t){const s=e.charCodeAt(t);n[t]=s>96?s-71:s>64?s-65:s>47?s+4:s>46?63:62}let s=0;for(let r=0;r<e.length;++r)n[s++]=n[r]<60?t[n[r]]:64*(n[r]-60)+n[++r];return n.buffer.slice(0,s)}(s),{}).then((e=>{n=e.instance,n.exports.__wasm_call_ctors()}));function o(e,t,s,r,o,i){const a=n.exports.sbrk,c=s+3&-4,u=a(c*r),l=a(o.length),A=new Uint8Array(n.exports.memory.buffer);A.set(o,l);const d=e(u,s,r,l,o.length);if(0===d&&i&&i(u,c,r),t.set(A.subarray(u,u+s*r)),a(u-a(0)),0!==d)throw new Error(`Malformed buffer data: ${d}`)}const i={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},c={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return a={ready:r,supported:!0,decodeVertexBuffer(e,t,s,r,a){o(n.exports.meshopt_decodeVertexBuffer,e,t,s,r,n.exports[i[a]])},decodeIndexBuffer(e,t,s,r){o(n.exports.meshopt_decodeIndexBuffer,e,t,s,r)},decodeIndexSequence(e,t,s,r){o(n.exports.meshopt_decodeIndexSequence,e,t,s,r)},decodeGltfBuffer(e,t,s,r,a,u){o(n.exports[c[a]],e,t,s,r,n.exports[i[u]])}},a};class u extends s.Loader{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register((function(e){return new h(e)})),this.register((function(e){return new M(e)})),this.register((function(e){return new F(e)})),this.register((function(e){return new f(e)})),this.register((function(e){return new C(e)})),this.register((function(e){return new p(e)})),this.register((function(e){return new m(e)})),this.register((function(e){return new g(e)})),this.register((function(e){return new d(e)})),this.register((function(e){return new E(e)}))}load(e,t,n,r){const o=this;let i;i=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:s.LoaderUtils.extractUrlBase(e),this.manager.itemStart(e);const a=function(t){r?r(t):console.error(t),o.manager.itemError(e),o.manager.itemEnd(e)},c=new s.FileLoader(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(e,(function(n){try{o.parse(n,i,(function(n){t(n),o.manager.itemEnd(e)}),a)}catch(s){a(s)}}),n,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}unregister(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,n,r){let o;const i={},a={};if("string"===typeof e)o=e;else{if(s.LoaderUtils.decodeText(new Uint8Array(e,0,4))===G){try{i[A.KHR_BINARY_GLTF]=new R(e)}catch(l){return void(r&&r(l))}o=i[A.KHR_BINARY_GLTF].content}else o=s.LoaderUtils.decodeText(new Uint8Array(e))}const c=JSON.parse(o);if(void 0===c.asset||c.asset.version[0]<2)return void(r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.")));const u=new re(c,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(let s=0;s<this.pluginCallbacks.length;s++){const e=this.pluginCallbacks[s](u);a[e.name]=e,i[e.name]=!0}if(c.extensionsUsed)for(let s=0;s<c.extensionsUsed.length;++s){const e=c.extensionsUsed[s],t=c.extensionsRequired||[];switch(e){case A.KHR_MATERIALS_UNLIT:i[e]=new B;break;case A.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:i[e]=new v;break;case A.KHR_DRACO_MESH_COMPRESSION:i[e]=new D(c,this.dracoLoader);break;case A.KHR_TEXTURE_TRANSFORM:i[e]=new b;break;case A.KHR_MESH_QUANTIZATION:i[e]=new J;break;default:t.indexOf(e)>=0&&void 0===a[e]&&console.warn('THREE.GLTFLoader: Unknown extension "'+e+'".')}}u.setExtensions(i),u.setPlugins(a),u.parse(n,r)}parseAsync(e,t){const n=this;return new Promise((function(s,r){n.parse(e,t,s,r)}))}}function l(){let e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}const A={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class d{constructor(e){this.parser=e,this.name=A.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let n=0,s=t.length;n<s;n++){const s=t[n];s.extensions&&s.extensions[this.name]&&void 0!==s.extensions[this.name].light&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,n="light:"+e;let r=t.cache.get(n);if(r)return r;const o=t.json,i=((o.extensions&&o.extensions[this.name]||{}).lights||[])[e];let a;const c=new s.Color(16777215);void 0!==i.color&&c.fromArray(i.color);const u=void 0!==i.range?i.range:0;switch(i.type){case"directional":a=new s.DirectionalLight(c),a.target.position.set(0,0,-1),a.add(a.target);break;case"point":a=new s.PointLight(c),a.distance=u;break;case"spot":a=new s.SpotLight(c),a.distance=u,i.spot=i.spot||{},i.spot.innerConeAngle=void 0!==i.spot.innerConeAngle?i.spot.innerConeAngle:0,i.spot.outerConeAngle=void 0!==i.spot.outerConeAngle?i.spot.outerConeAngle:Math.PI/4,a.angle=i.spot.outerConeAngle,a.penumbra=1-i.spot.innerConeAngle/i.spot.outerConeAngle,a.target.position.set(0,0,-1),a.add(a.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+i.type)}return a.position.set(0,0,0),a.decay=2,void 0!==i.intensity&&(a.intensity=i.intensity),a.name=t.createUniqueName(i.name||"light_"+e),r=Promise.resolve(a),t.cache.add(n,r),r}createNodeAttachment(e){const t=this,n=this.parser,s=n.json.nodes[e],r=(s.extensions&&s.extensions[this.name]||{}).light;return void 0===r?null:this._loadLight(r).then((function(e){return n._getNodeRef(t.cache,r,e)}))}}class B{constructor(){this.name=A.KHR_MATERIALS_UNLIT}getMaterialType(){return s.MeshBasicMaterial}extendParams(e,t,n){const r=[];e.color=new s.Color(1,1,1),e.opacity=1;const o=t.pbrMetallicRoughness;if(o){if(Array.isArray(o.baseColorFactor)){const t=o.baseColorFactor;e.color.fromArray(t),e.opacity=t[3]}void 0!==o.baseColorTexture&&r.push(n.assignTexture(e,"map",o.baseColorTexture))}return Promise.all(r)}}class h{constructor(e){this.parser=e,this.name=A.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?s.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[],i=r.extensions[this.name];if(void 0!==i.clearcoatFactor&&(t.clearcoat=i.clearcoatFactor),void 0!==i.clearcoatTexture&&o.push(n.assignTexture(t,"clearcoatMap",i.clearcoatTexture)),void 0!==i.clearcoatRoughnessFactor&&(t.clearcoatRoughness=i.clearcoatRoughnessFactor),void 0!==i.clearcoatRoughnessTexture&&o.push(n.assignTexture(t,"clearcoatRoughnessMap",i.clearcoatRoughnessTexture)),void 0!==i.clearcoatNormalTexture&&(o.push(n.assignTexture(t,"clearcoatNormalMap",i.clearcoatNormalTexture)),void 0!==i.clearcoatNormalTexture.scale)){const e=i.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new s.Vector2(e,e)}return Promise.all(o)}}class f{constructor(e){this.parser=e,this.name=A.KHR_MATERIALS_SHEEN}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?s.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[];t.sheenColor=new s.Color(0,0,0),t.sheenRoughness=0,t.sheen=1;const i=r.extensions[this.name];return void 0!==i.sheenColorFactor&&t.sheenColor.fromArray(i.sheenColorFactor),void 0!==i.sheenRoughnessFactor&&(t.sheenRoughness=i.sheenRoughnessFactor),void 0!==i.sheenColorTexture&&o.push(n.assignTexture(t,"sheenColorMap",i.sheenColorTexture)),void 0!==i.sheenRoughnessTexture&&o.push(n.assignTexture(t,"sheenRoughnessMap",i.sheenRoughnessTexture)),Promise.all(o)}}class C{constructor(e){this.parser=e,this.name=A.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?s.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const n=this.parser,s=n.json.materials[e];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],o=s.extensions[this.name];return void 0!==o.transmissionFactor&&(t.transmission=o.transmissionFactor),void 0!==o.transmissionTexture&&r.push(n.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(r)}}class p{constructor(e){this.parser=e,this.name=A.KHR_MATERIALS_VOLUME}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?s.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[],i=r.extensions[this.name];t.thickness=void 0!==i.thicknessFactor?i.thicknessFactor:0,void 0!==i.thicknessTexture&&o.push(n.assignTexture(t,"thicknessMap",i.thicknessTexture)),t.attenuationDistance=i.attenuationDistance||0;const a=i.attenuationColor||[1,1,1];return t.attenuationColor=new s.Color(a[0],a[1],a[2]),Promise.all(o)}}class m{constructor(e){this.parser=e,this.name=A.KHR_MATERIALS_IOR}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?s.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const s=n.extensions[this.name];return t.ior=void 0!==s.ior?s.ior:1.5,Promise.resolve()}}class g{constructor(e){this.parser=e,this.name=A.KHR_MATERIALS_SPECULAR}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?s.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[],i=r.extensions[this.name];t.specularIntensity=void 0!==i.specularFactor?i.specularFactor:1,void 0!==i.specularTexture&&o.push(n.assignTexture(t,"specularIntensityMap",i.specularTexture));const a=i.specularColorFactor||[1,1,1];return t.specularColor=new s.Color(a[0],a[1],a[2]),void 0!==i.specularColorTexture&&o.push(n.assignTexture(t,"specularColorMap",i.specularColorTexture).then((function(e){e.encoding=s.sRGBEncoding}))),Promise.all(o)}}class M{constructor(e){this.parser=e,this.name=A.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,n=t.json,s=n.textures[e];if(!s.extensions||!s.extensions[this.name])return null;const r=s.extensions[this.name],o=n.images[r.source],i=t.options.ktx2Loader;if(!i){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,o,i)}}class F{constructor(e){this.parser=e,this.name=A.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,s=n.json,r=s.textures[e];if(!r.extensions||!r.extensions[t])return null;const o=r.extensions[t],i=s.images[o.source];let a=n.textureLoader;if(i.uri){const e=n.options.manager.getHandler(i.uri);null!==e&&(a=e)}return this.detectSupport().then((function(r){if(r)return n.loadTextureImage(e,i,a);if(s.extensionsRequired&&s.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)}))}detectSupport(){return this.isSupported||(this.isSupported=new Promise((function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported}}class E{constructor(e){this.name=A.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){const e=n.extensions[this.name],s=this.parser.getDependency("buffer",e.buffer),r=this.parser.options.meshoptDecoder;if(!r||!r.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([s,r.ready]).then((function(t){const n=e.byteOffset||0,s=e.byteLength||0,o=e.count,i=e.byteStride,a=new ArrayBuffer(o*i),c=new Uint8Array(t[0],n,s);return r.decodeGltfBuffer(new Uint8Array(a),o,i,c,e.mode,e.filter),a}))}return null}}const G="glTF",I=1313821514,y=5130562;class R{constructor(e){this.name=A.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,12);if(this.header={magic:s.LoaderUtils.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==G)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const n=this.header.length-12,r=new DataView(e,12);let o=0;for(;o<n;){const t=r.getUint32(o,!0);o+=4;const n=r.getUint32(o,!0);if(o+=4,n===I){const n=new Uint8Array(e,12+o,t);this.content=s.LoaderUtils.decodeText(n)}else if(n===y){const n=12+o;this.body=e.slice(n,n+t)}o+=t}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class D{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=A.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const n=this.json,s=this.dracoLoader,r=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,i={},a={},c={};for(const u in o){const e=X[u]||u.toLowerCase();i[e]=o[u]}for(const u in e.attributes){const t=X[u]||u.toLowerCase();if(void 0!==o[u]){const s=n.accessors[e.attributes[u]],r=Q[s.componentType];c[t]=r,a[t]=!0===s.normalized}}return t.getDependency("bufferView",r).then((function(e){return new Promise((function(t){s.decodeDracoFile(e,(function(e){for(const t in e.attributes){const n=e.attributes[t],s=a[t];void 0!==s&&(n.normalized=s)}t(e)}),i,c)}))}))}}class b{constructor(){this.name=A.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),void 0===t.offset&&void 0===t.rotation&&void 0===t.scale||(e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class H extends s.MeshStandardMaterial{constructor(e){super(),this.isGLTFSpecularGlossinessMaterial=!0;const t=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),n=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),r=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),o=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),i=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join("\n"),a={specular:{value:(new s.Color).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=a,this.onBeforeCompile=function(e){for(const t in a)e.uniforms[t]=a[t];e.fragmentShader=e.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",t).replace("#include <metalnessmap_pars_fragment>",n).replace("#include <roughnessmap_fragment>",r).replace("#include <metalnessmap_fragment>",o).replace("#include <lights_physical_fragment>",i)},Object.defineProperties(this,{specular:{get:function(){return a.specular.value},set:function(e){a.specular.value=e}},specularMap:{get:function(){return a.specularMap.value},set:function(e){a.specularMap.value=e,e?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return a.glossiness.value},set:function(e){a.glossiness.value=e}},glossinessMap:{get:function(){return a.glossinessMap.value},set:function(e){a.glossinessMap.value=e,e?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}copy(e){return super.copy(e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class v{constructor(){this.name=A.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"]}getMaterialType(){return H}extendParams(e,t,n){const r=t.extensions[this.name];e.color=new s.Color(1,1,1),e.opacity=1;const o=[];if(Array.isArray(r.diffuseFactor)){const t=r.diffuseFactor;e.color.fromArray(t),e.opacity=t[3]}if(void 0!==r.diffuseTexture&&o.push(n.assignTexture(e,"map",r.diffuseTexture)),e.emissive=new s.Color(0,0,0),e.glossiness=void 0!==r.glossinessFactor?r.glossinessFactor:1,e.specular=new s.Color(1,1,1),Array.isArray(r.specularFactor)&&e.specular.fromArray(r.specularFactor),void 0!==r.specularGlossinessTexture){const t=r.specularGlossinessTexture;o.push(n.assignTexture(e,"glossinessMap",t)),o.push(n.assignTexture(e,"specularMap",t))}return Promise.all(o)}createMaterial(e){const t=new H(e);return t.fog=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,t.normalMapType=s.TangentSpaceNormalMap,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}class J{constructor(){this.name=A.KHR_MESH_QUANTIZATION}}class T extends s.Interpolant{constructor(e,t,n,s){super(e,t,n,s)}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,s=this.valueSize,r=e*s*3+s;for(let o=0;o!==s;o++)t[o]=n[r+o];return t}}T.prototype.beforeStart_=T.prototype.copySampleValue_,T.prototype.afterEnd_=T.prototype.copySampleValue_,T.prototype.interpolate_=function(e,t,n,s){const r=this.resultBuffer,o=this.sampleValues,i=this.valueSize,a=2*i,c=3*i,u=s-t,l=(n-t)/u,A=l*l,d=A*l,B=e*c,h=B-c,f=-2*d+3*A,C=d-A,p=1-f,m=C-A+l;for(let g=0;g!==i;g++){const e=o[h+g+i],t=o[h+g+a]*u,n=o[B+g+i],s=o[B+g]*u;r[g]=p*e+m*t+f*n+C*s}return r};const S=new s.Quaternion;class L extends T{interpolate_(e,t,n,s){const r=super.interpolate_(e,t,n,s);return S.fromArray(r).normalize().toArray(r),r}}const P=0,w=1,O=2,U=3,x=4,_=5,K=6,Q={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},k={9728:s.NearestFilter,9729:s.LinearFilter,9984:s.NearestMipmapNearestFilter,9985:s.LinearMipmapNearestFilter,9986:s.NearestMipmapLinearFilter,9987:s.LinearMipmapLinearFilter},N={33071:s.ClampToEdgeWrapping,33648:s.MirroredRepeatWrapping,10497:s.RepeatWrapping},j={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},X={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Y={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Z={CUBICSPLINE:void 0,LINEAR:s.InterpolateLinear,STEP:s.InterpolateDiscrete},V="OPAQUE",W="MASK",q="BLEND";function z(e,t,n){for(const s in n.extensions)void 0===e[s]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[s]=n.extensions[s])}function $(e,t){void 0!==t.extras&&("object"===typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function ee(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(let n=0,s=t.weights.length;n<s;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){const n=t.extras.targetNames;if(e.morphTargetInfluences.length===n.length){e.morphTargetDictionary={};for(let t=0,s=n.length;t<s;t++)e.morphTargetDictionary[n[t]]=t}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function te(e){const t=e.extensions&&e.extensions[A.KHR_DRACO_MESH_COMPRESSION];let n;return n=t?"draco:"+t.bufferView+":"+t.indices+":"+ne(t.attributes):e.indices+":"+ne(e.attributes)+":"+e.mode,n}function ne(e){let t="";const n=Object.keys(e).sort();for(let s=0,r=n.length;s<r;s++)t+=n[s]+":"+e[n[s]]+";";return t}function se(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}class re{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new l,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.textureCache={},this.nodeNamesUsed={},"undefined"!==typeof createImageBitmap&&!1===/Firefox|^((?!chrome|android).)*safari/i.test(navigator.userAgent)?this.textureLoader=new s.ImageBitmapLoader(this.options.manager):this.textureLoader=new s.TextureLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new s.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const n=this,s=this.json,r=this.extensions;this.cache.removeAll(),this._invokeAll((function(e){return e._markDefs&&e._markDefs()})),Promise.all(this._invokeAll((function(e){return e.beforeRoot&&e.beforeRoot()}))).then((function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])})).then((function(t){const o={scene:t[0][s.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:s.asset,parser:n,userData:{}};z(r,o,s),$(o,s),Promise.all(n._invokeAll((function(e){return e.afterRoot&&e.afterRoot(o)}))).then((function(){e(o)}))})).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[];for(let s=0,r=t.length;s<r;s++){const n=t[s].joints;for(let t=0,s=n.length;t<s;t++)e[n[t]].isBone=!0}for(let s=0,r=e.length;s<r;s++){const t=e[s];void 0!==t.mesh&&(this._addNodeRef(this.meshCache,t.mesh),void 0!==t.skin&&(n[t.mesh].isSkinnedMesh=!0)),void 0!==t.camera&&this._addNodeRef(this.cameraCache,t.camera)}}_addNodeRef(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,n){if(e.refs[t]<=1)return n;const s=n.clone(),r=(e,t)=>{const n=this.associations.get(e);null!=n&&this.associations.set(t,n);for(const[s,o]of e.children.entries())r(o,t.children[s])};return r(n,s),s.name+="_instance_"+e.uses[t]++,s}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let n=0;n<t.length;n++){const s=e(t[n]);if(s)return s}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const n=[];for(let s=0;s<t.length;s++){const r=e(t[s]);r&&n.push(r)}return n}getDependency(e,t){const n=e+":"+t;let s=this.cache.get(n);if(!s){switch(e){case"scene":s=this.loadScene(t);break;case"node":s=this.loadNode(t);break;case"mesh":s=this._invokeOne((function(e){return e.loadMesh&&e.loadMesh(t)}));break;case"accessor":s=this.loadAccessor(t);break;case"bufferView":s=this._invokeOne((function(e){return e.loadBufferView&&e.loadBufferView(t)}));break;case"buffer":s=this.loadBuffer(t);break;case"material":s=this._invokeOne((function(e){return e.loadMaterial&&e.loadMaterial(t)}));break;case"texture":s=this._invokeOne((function(e){return e.loadTexture&&e.loadTexture(t)}));break;case"skin":s=this.loadSkin(t);break;case"animation":s=this.loadAnimation(t);break;case"camera":s=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(n,s)}return s}getDependencies(e){let t=this.cache.get(e);if(!t){const n=this,s=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(s.map((function(t,s){return n.getDependency(e,s)}))),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],n=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[A.KHR_BINARY_GLTF].body);const r=this.options;return new Promise((function(e,o){n.load(s.LoaderUtils.resolveURL(t.uri,r.path),e,void 0,(function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){const n=t.byteLength||0,s=t.byteOffset||0;return e.slice(s,s+n)}))}loadAccessor(e){const t=this,n=this.json,r=this.json.accessors[e];if(void 0===r.bufferView&&void 0===r.sparse)return Promise.resolve(null);const o=[];return void 0!==r.bufferView?o.push(this.getDependency("bufferView",r.bufferView)):o.push(null),void 0!==r.sparse&&(o.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),o.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(o).then((function(e){const o=e[0],i=j[r.type],a=Q[r.componentType],c=a.BYTES_PER_ELEMENT,u=c*i,l=r.byteOffset||0,A=void 0!==r.bufferView?n.bufferViews[r.bufferView].byteStride:void 0,d=!0===r.normalized;let B,h;if(A&&A!==u){const e=Math.floor(l/A),n="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+e+":"+r.count;let u=t.cache.get(n);u||(B=new a(o,e*A,r.count*A/c),u=new s.InterleavedBuffer(B,A/c),t.cache.add(n,u)),h=new s.InterleavedBufferAttribute(u,i,l%A/c,d)}else B=null===o?new a(r.count*i):new a(o,l,r.count*i),h=new s.BufferAttribute(B,i,d);if(void 0!==r.sparse){const t=j.SCALAR,n=Q[r.sparse.indices.componentType],c=r.sparse.indices.byteOffset||0,u=r.sparse.values.byteOffset||0,l=new n(e[1],c,r.sparse.count*t),A=new a(e[2],u,r.sparse.count*i);null!==o&&(h=new s.BufferAttribute(h.array.slice(),h.itemSize,h.normalized));for(let e=0,s=l.length;e<s;e++){const t=l[e];if(h.setX(t,A[e*i]),i>=2&&h.setY(t,A[e*i+1]),i>=3&&h.setZ(t,A[e*i+2]),i>=4&&h.setW(t,A[e*i+3]),i>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return h}))}loadTexture(e){const t=this.json,n=this.options,s=t.textures[e],r=t.images[s.source];let o=this.textureLoader;if(r.uri){const e=n.manager.getHandler(r.uri);null!==e&&(o=e)}return this.loadTextureImage(e,r,o)}loadTextureImage(e,t,n){const r=this,o=this.json,i=this.options,a=o.textures[e],c=(t.uri||t.bufferView)+":"+a.sampler;if(this.textureCache[c])return this.textureCache[c];const u=self.URL||self.webkitURL;let l=t.uri||"",A=!1;if(void 0!==t.bufferView)l=r.getDependency("bufferView",t.bufferView).then((function(e){A=!0;const n=new Blob([e],{type:t.mimeType});return l=u.createObjectURL(n),l}));else if(void 0===t.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const d=Promise.resolve(l).then((function(e){return new Promise((function(t,r){let o=t;!0===n.isImageBitmapLoader&&(o=function(e){const n=new s.Texture(e);n.needsUpdate=!0,t(n)}),n.load(s.LoaderUtils.resolveURL(e,i.path),o,void 0,r)}))})).then((function(t){!0===A&&u.revokeObjectURL(l),t.flipY=!1,a.name&&(t.name=a.name);const n=(o.samplers||{})[a.sampler]||{};return t.magFilter=k[n.magFilter]||s.LinearFilter,t.minFilter=k[n.minFilter]||s.LinearMipmapLinearFilter,t.wrapS=N[n.wrapS]||s.RepeatWrapping,t.wrapT=N[n.wrapT]||s.RepeatWrapping,r.associations.set(t,{textures:e}),t})).catch((function(){return console.error("THREE.GLTFLoader: Couldn't load texture",l),null}));return this.textureCache[c]=d,d}assignTexture(e,t,n){const s=this;return this.getDependency("texture",n.index).then((function(r){if(void 0===n.texCoord||0==n.texCoord||"aoMap"===t&&1==n.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+n.texCoord+" for texture "+t+" not yet supported."),s.extensions[A.KHR_TEXTURE_TRANSFORM]){const e=void 0!==n.extensions?n.extensions[A.KHR_TEXTURE_TRANSFORM]:void 0;if(e){const t=s.associations.get(r);r=s.extensions[A.KHR_TEXTURE_TRANSFORM].extendTexture(r,e),s.associations.set(r,t)}}return e[t]=r,r}))}assignFinalMaterial(e){const t=e.geometry;let n=e.material;const r=void 0===t.attributes.tangent,o=void 0!==t.attributes.color,i=void 0===t.attributes.normal;if(e.isPoints){const e="PointsMaterial:"+n.uuid;let t=this.cache.get(e);t||(t=new s.PointsMaterial,s.Material.prototype.copy.call(t,n),t.color.copy(n.color),t.map=n.map,t.sizeAttenuation=!1,this.cache.add(e,t)),n=t}else if(e.isLine){const e="LineBasicMaterial:"+n.uuid;let t=this.cache.get(e);t||(t=new s.LineBasicMaterial,s.Material.prototype.copy.call(t,n),t.color.copy(n.color),this.cache.add(e,t)),n=t}if(r||o||i){let e="ClonedMaterial:"+n.uuid+":";n.isGLTFSpecularGlossinessMaterial&&(e+="specular-glossiness:"),r&&(e+="derivative-tangents:"),o&&(e+="vertex-colors:"),i&&(e+="flat-shading:");let t=this.cache.get(e);t||(t=n.clone(),o&&(t.vertexColors=!0),i&&(t.flatShading=!0),r&&(t.normalScale&&(t.normalScale.y*=-1),t.clearcoatNormalScale&&(t.clearcoatNormalScale.y*=-1)),this.cache.add(e,t),this.associations.set(t,this.associations.get(n))),n=t}n.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&t.setAttribute("uv2",t.attributes.uv),e.material=n}getMaterialType(){return s.MeshStandardMaterial}loadMaterial(e){const t=this,n=this.json,r=this.extensions,o=n.materials[e];let i;const a={},c=o.extensions||{},u=[];if(c[A.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const e=r[A.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];i=e.getMaterialType(),u.push(e.extendParams(a,o,t))}else if(c[A.KHR_MATERIALS_UNLIT]){const e=r[A.KHR_MATERIALS_UNLIT];i=e.getMaterialType(),u.push(e.extendParams(a,o,t))}else{const n=o.pbrMetallicRoughness||{};if(a.color=new s.Color(1,1,1),a.opacity=1,Array.isArray(n.baseColorFactor)){const e=n.baseColorFactor;a.color.fromArray(e),a.opacity=e[3]}void 0!==n.baseColorTexture&&u.push(t.assignTexture(a,"map",n.baseColorTexture)),a.metalness=void 0!==n.metallicFactor?n.metallicFactor:1,a.roughness=void 0!==n.roughnessFactor?n.roughnessFactor:1,void 0!==n.metallicRoughnessTexture&&(u.push(t.assignTexture(a,"metalnessMap",n.metallicRoughnessTexture)),u.push(t.assignTexture(a,"roughnessMap",n.metallicRoughnessTexture))),i=this._invokeOne((function(t){return t.getMaterialType&&t.getMaterialType(e)})),u.push(Promise.all(this._invokeAll((function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,a)}))))}!0===o.doubleSided&&(a.side=s.DoubleSide);const l=o.alphaMode||V;if(l===q?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,l===W&&(a.alphaTest=void 0!==o.alphaCutoff?o.alphaCutoff:.5)),void 0!==o.normalTexture&&i!==s.MeshBasicMaterial&&(u.push(t.assignTexture(a,"normalMap",o.normalTexture)),a.normalScale=new s.Vector2(1,1),void 0!==o.normalTexture.scale)){const e=o.normalTexture.scale;a.normalScale.set(e,e)}return void 0!==o.occlusionTexture&&i!==s.MeshBasicMaterial&&(u.push(t.assignTexture(a,"aoMap",o.occlusionTexture)),void 0!==o.occlusionTexture.strength&&(a.aoMapIntensity=o.occlusionTexture.strength)),void 0!==o.emissiveFactor&&i!==s.MeshBasicMaterial&&(a.emissive=(new s.Color).fromArray(o.emissiveFactor)),void 0!==o.emissiveTexture&&i!==s.MeshBasicMaterial&&u.push(t.assignTexture(a,"emissiveMap",o.emissiveTexture)),Promise.all(u).then((function(){let n;return n=i===H?r[A.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(a):new i(a),o.name&&(n.name=o.name),n.map&&(n.map.encoding=s.sRGBEncoding),n.emissiveMap&&(n.emissiveMap.encoding=s.sRGBEncoding),$(n,o),t.associations.set(n,{materials:e}),o.extensions&&z(r,n,o),n}))}createUniqueName(e){const t=s.PropertyBinding.sanitizeNodeName(e||"");let n=t;for(let s=1;this.nodeNamesUsed[n];++s)n=t+"_"+s;return this.nodeNamesUsed[n]=!0,n}loadGeometries(e){const t=this,n=this.extensions,r=this.primitiveCache;function o(e){return n[A.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(n){return ie(n,e,t)}))}const i=[];for(let a=0,c=e.length;a<c;a++){const n=e[a],c=te(n),u=r[c];if(u)i.push(u.promise);else{let e;e=n.extensions&&n.extensions[A.KHR_DRACO_MESH_COMPRESSION]?o(n):ie(new s.BufferGeometry,n,t),r[c]={primitive:n,promise:e},i.push(e)}}return Promise.all(i)}loadMesh(e){const t=this,n=this.json,r=this.extensions,o=n.meshes[e],i=o.primitives,a=[];for(let u=0,l=i.length;u<l;u++){const e=void 0===i[u].material?(void 0===(c=this.cache).DefaultMaterial&&(c.DefaultMaterial=new s.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:s.FrontSide})),c.DefaultMaterial):this.getDependency("material",i[u].material);a.push(e)}var c;return a.push(t.loadGeometries(i)),Promise.all(a).then((function(n){const a=n.slice(0,n.length-1),c=n[n.length-1],u=[];for(let A=0,d=c.length;A<d;A++){const n=c[A],l=i[A];let d;const B=a[A];if(l.mode===x||l.mode===_||l.mode===K||void 0===l.mode)d=!0===o.isSkinnedMesh?new s.SkinnedMesh(n,B):new s.Mesh(n,B),!0!==d.isSkinnedMesh||d.geometry.attributes.skinWeight.normalized||d.normalizeSkinWeights(),l.mode===_?d.geometry=ae(d.geometry,s.TriangleStripDrawMode):l.mode===K&&(d.geometry=ae(d.geometry,s.TriangleFanDrawMode));else if(l.mode===w)d=new s.LineSegments(n,B);else if(l.mode===U)d=new s.Line(n,B);else if(l.mode===O)d=new s.LineLoop(n,B);else{if(l.mode!==P)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+l.mode);d=new s.Points(n,B)}Object.keys(d.geometry.morphAttributes).length>0&&ee(d,o),d.name=t.createUniqueName(o.name||"mesh_"+e),$(d,o),l.extensions&&z(r,d,l),t.assignFinalMaterial(d),u.push(d)}for(let s=0,r=u.length;s<r;s++)t.associations.set(u[s],{meshes:e,primitives:s});if(1===u.length)return u[0];const l=new s.Group;t.associations.set(l,{meshes:e});for(let e=0,t=u.length;e<t;e++)l.add(u[e]);return l}))}loadCamera(e){let t;const n=this.json.cameras[e],r=n[n.type];if(r)return"perspective"===n.type?t=new s.PerspectiveCamera(s.MathUtils.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===n.type&&(t=new s.OrthographicCamera(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),$(t,n),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")}loadSkin(e){const t=this.json.skins[e],n={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(n):this.getDependency("accessor",t.inverseBindMatrices).then((function(e){return n.inverseBindMatrices=e,n}))}loadAnimation(e){const t=this.json.animations[e],n=[],r=[],o=[],i=[],a=[];for(let s=0,c=t.channels.length;s<c;s++){const e=t.channels[s],c=t.samplers[e.sampler],u=e.target,l=void 0!==u.node?u.node:u.id,A=void 0!==t.parameters?t.parameters[c.input]:c.input,d=void 0!==t.parameters?t.parameters[c.output]:c.output;n.push(this.getDependency("node",l)),r.push(this.getDependency("accessor",A)),o.push(this.getDependency("accessor",d)),i.push(c),a.push(u)}return Promise.all([Promise.all(n),Promise.all(r),Promise.all(o),Promise.all(i),Promise.all(a)]).then((function(n){const r=n[0],o=n[1],i=n[2],a=n[3],c=n[4],u=[];for(let e=0,t=r.length;e<t;e++){const t=r[e],n=o[e],l=i[e],A=a[e],d=c[e];if(void 0===t)continue;let B;switch(t.updateMatrix(),t.matrixAutoUpdate=!0,Y[d.path]){case Y.weights:B=s.NumberKeyframeTrack;break;case Y.rotation:B=s.QuaternionKeyframeTrack;break;default:B=s.VectorKeyframeTrack}const h=t.name?t.name:t.uuid,f=void 0!==A.interpolation?Z[A.interpolation]:s.InterpolateLinear,C=[];Y[d.path]===Y.weights?t.traverse((function(e){e.morphTargetInfluences&&C.push(e.name?e.name:e.uuid)})):C.push(h);let p=l.array;if(l.normalized){const e=se(p.constructor),t=new Float32Array(p.length);for(let n=0,s=p.length;n<s;n++)t[n]=p[n]*e;p=t}for(let e=0,r=C.length;e<r;e++){const t=new B(C[e]+"."+Y[d.path],n.array,p,f);"CUBICSPLINE"===A.interpolation&&(t.createInterpolant=function(e){return new(this instanceof s.QuaternionKeyframeTrack?L:T)(this.times,this.values,this.getValueSize()/3,e)},t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),u.push(t)}}const l=t.name?t.name:"animation_"+e;return new s.AnimationClip(l,void 0,u)}))}createNodeMesh(e){const t=this.json,n=this,s=t.nodes[e];return void 0===s.mesh?null:n.getDependency("mesh",s.mesh).then((function(e){const t=n._getNodeRef(n.meshCache,s.mesh,e);return void 0!==s.weights&&t.traverse((function(e){if(e.isMesh)for(let t=0,n=s.weights.length;t<n;t++)e.morphTargetInfluences[t]=s.weights[t]})),t}))}loadNode(e){const t=this.json,n=this.extensions,r=this,o=t.nodes[e],i=o.name?r.createUniqueName(o.name):"";return function(){const t=[],n=r._invokeOne((function(t){return t.createNodeMesh&&t.createNodeMesh(e)}));return n&&t.push(n),void 0!==o.camera&&t.push(r.getDependency("camera",o.camera).then((function(e){return r._getNodeRef(r.cameraCache,o.camera,e)}))),r._invokeAll((function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)})).forEach((function(e){t.push(e)})),Promise.all(t)}().then((function(t){let a;if(a=!0===o.isBone?new s.Bone:t.length>1?new s.Group:1===t.length?t[0]:new s.Object3D,a!==t[0])for(let e=0,n=t.length;e<n;e++)a.add(t[e]);if(o.name&&(a.userData.name=o.name,a.name=i),$(a,o),o.extensions&&z(n,a,o),void 0!==o.matrix){const e=new s.Matrix4;e.fromArray(o.matrix),a.applyMatrix4(e)}else void 0!==o.translation&&a.position.fromArray(o.translation),void 0!==o.rotation&&a.quaternion.fromArray(o.rotation),void 0!==o.scale&&a.scale.fromArray(o.scale);return r.associations.has(a)||r.associations.set(a,{}),r.associations.get(a).nodes=e,a}))}loadScene(e){const t=this.json,n=this.extensions,r=this.json.scenes[e],o=this,i=new s.Group;r.name&&(i.name=o.createUniqueName(r.name)),$(i,r),r.extensions&&z(n,i,r);const a=r.nodes||[],c=[];for(let s=0,u=a.length;s<u;s++)c.push(oe(a[s],i,t,o));return Promise.all(c).then((function(){return o.associations=(e=>{const t=new Map;for(const[n,r]of o.associations)(n instanceof s.Material||n instanceof s.Texture)&&t.set(n,r);return e.traverse((e=>{const n=o.associations.get(e);null!=n&&t.set(e,n)})),t})(i),i}))}}function oe(e,t,n,r){const o=n.nodes[e];return r.getDependency("node",e).then((function(e){if(void 0===o.skin)return e;let t;return r.getDependency("skin",o.skin).then((function(e){t=e;const n=[];for(let s=0,o=t.joints.length;s<o;s++)n.push(r.getDependency("node",t.joints[s]));return Promise.all(n)})).then((function(n){return e.traverse((function(e){if(!e.isMesh)return;const r=[],o=[];for(let i=0,a=n.length;i<a;i++){const e=n[i];if(e){r.push(e);const n=new s.Matrix4;void 0!==t.inverseBindMatrices&&n.fromArray(t.inverseBindMatrices.array,16*i),o.push(n)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[i])}e.bind(new s.Skeleton(r,o),e.matrixWorld)})),e}))})).then((function(e){t.add(e);const s=[];if(o.children){const t=o.children;for(let o=0,i=t.length;o<i;o++){const i=t[o];s.push(oe(i,e,n,r))}}return Promise.all(s)}))}function ie(e,t,n){const r=t.attributes,o=[];function i(t,s){return n.getDependency("accessor",t).then((function(t){e.setAttribute(s,t)}))}for(const s in r){const t=X[s]||s.toLowerCase();t in e.attributes||o.push(i(r[s],t))}if(void 0!==t.indices&&!e.index){const s=n.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));o.push(s)}return $(e,t),function(e,t,n){const r=t.attributes,o=new s.Box3;if(void 0===r.POSITION)return;{const e=n.json.accessors[r.POSITION],t=e.min,i=e.max;if(void 0===t||void 0===i)return void console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");if(o.set(new s.Vector3(t[0],t[1],t[2]),new s.Vector3(i[0],i[1],i[2])),e.normalized){const t=se(Q[e.componentType]);o.min.multiplyScalar(t),o.max.multiplyScalar(t)}}const i=t.targets;if(void 0!==i){const e=new s.Vector3,t=new s.Vector3;for(let s=0,r=i.length;s<r;s++){const r=i[s];if(void 0!==r.POSITION){const s=n.json.accessors[r.POSITION],o=s.min,i=s.max;if(void 0!==o&&void 0!==i){if(t.setX(Math.max(Math.abs(o[0]),Math.abs(i[0]))),t.setY(Math.max(Math.abs(o[1]),Math.abs(i[1]))),t.setZ(Math.max(Math.abs(o[2]),Math.abs(i[2]))),s.normalized){const e=se(Q[s.componentType]);t.multiplyScalar(e)}e.max(t)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}o.expandByVector(e)}e.boundingBox=o;const a=new s.Sphere;o.getCenter(a.center),a.radius=o.min.distanceTo(o.max)/2,e.boundingSphere=a}(e,t,n),Promise.all(o).then((function(){return void 0!==t.targets?function(e,t,n){let s=!1,r=!1;for(let a=0,c=t.length;a<c;a++){const e=t[a];if(void 0!==e.POSITION&&(s=!0),void 0!==e.NORMAL&&(r=!0),s&&r)break}if(!s&&!r)return Promise.resolve(e);const o=[],i=[];for(let a=0,c=t.length;a<c;a++){const c=t[a];if(s){const t=void 0!==c.POSITION?n.getDependency("accessor",c.POSITION):e.attributes.position;o.push(t)}if(r){const t=void 0!==c.NORMAL?n.getDependency("accessor",c.NORMAL):e.attributes.normal;i.push(t)}}return Promise.all([Promise.all(o),Promise.all(i)]).then((function(t){const n=t[0],o=t[1];return s&&(e.morphAttributes.position=n),r&&(e.morphAttributes.normal=o),e.morphTargetsRelative=!0,e}))}(e,t.targets,n):e}))}function ae(e,t){let n=e.getIndex();if(null===n){const t=[],s=e.getAttribute("position");if(void 0===s)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(let e=0;e<s.count;e++)t.push(e);e.setIndex(t),n=e.getIndex()}const r=n.count-2,o=[];if(t===s.TriangleFanDrawMode)for(let s=1;s<=r;s++)o.push(n.getX(0)),o.push(n.getX(s)),o.push(n.getX(s+1));else for(let s=0;s<r;s++)s%2===0?(o.push(n.getX(s)),o.push(n.getX(s+1)),o.push(n.getX(s+2))):(o.push(n.getX(s+2)),o.push(n.getX(s+1)),o.push(n.getX(s)));o.length/3!==r&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const i=e.clone();return i.setIndex(o),i}var ce=n(3887);let ue=null;function le(e,t,n){return s=>{n&&n(s),e&&(ue||(ue=new o),ue.setDecoderPath("string"===typeof e?e:"https://www.gstatic.com/draco/versioned/decoders/1.4.3/"),s.setDRACOLoader(ue)),t&&s.setMeshoptDecoder(c())}}function Ae(e,t=!0,n=!0,s){return(0,ce.z)(u,e,le(t,n,s))}Ae.preload=(e,t=!0,n=!0,s)=>ce.z.preload(u,e,le(t,n,s)),Ae.clear=e=>ce.z.clear(u,e)},5769:function(e,t,n){n.d(t,{m:function(){return a}});var s=n(9477),r=n(3887),o=n(7294);const i=e=>e===Object(e)&&!Array.isArray(e)&&"function"!==typeof e;function a(e,t){const n=(0,r.w)((e=>e.gl)),a=(0,r.z)(s.TextureLoader,i(e)?Object.values(e):e);if((0,o.useLayoutEffect)((()=>{null==t||t(a)}),[t]),(0,o.useEffect)((()=>{(Array.isArray(a)?a:[a]).forEach(n.initTexture)}),[n,a]),i(e)){const t=Object.keys(e),n={};return t.forEach((e=>Object.assign(n,{[e]:a[t.indexOf(e)]}))),n}return a}a.preload=e=>r.z.preload(s.TextureLoader,e),a.clear=e=>r.z.clear(s.TextureLoader,e)},4834:function(e,t,n){n.d(t,{j:function(){return r}});var s=n(7294);function r(e,t="pointer",n="auto"){s.useEffect((()=>{if(e)return document.body.style.cursor=t,()=>{document.body.style.cursor=n}}),[e])}},5878:function(e,t){t.Z=function(e){return function(t){e.forEach((function(e){"function"===typeof e?e(t):null!=e&&(e.current=t)}))}}},4503:function(e,t,n){n.d(t,{dp:function(){return l},xC:function(){return d},sY:function(){return B}});var s=n(2248),r=n(7294),o=n(9477),i=n(3887);let a;function c(){if(void 0!==a)return a;try{var e;let t;const n=document.createElement("canvas");return a=!(!window.WebGL2RenderingContext||!(t=n.getContext("webgl2"))),t&&(null===(e=t.getExtension("WEBGL_lose_context"))||void 0===e||e.loseContext()),a}catch(t){return a=!1}}const u=function(e,t){return void 0===t&&(t=s.YQ.NORMAL),(0,r.forwardRef)((function(n,s){let{blendFunction:o,opacity:a,...c}=n;const u=(0,i.w)((e=>e.invalidate)),l=(0,r.useMemo)((()=>new e(c)),[c]);return(0,r.useLayoutEffect)((()=>{l.blendMode.blendFunction=o||0===o?o:t,void 0!==a&&(l.blendMode.opacity.value=a),u()}),[o,l.blendMode,a]),r.createElement("primitive",{ref:s,object:l,dispose:null})}))},l=u(s.rk,s.YQ.ADD),A=(u(s.at),u(s.zo),u(s.AL),(0,r.createContext)(null)),d=r.memo((0,r.forwardRef)(((e,t)=>{let{children:n,camera:a,scene:u,resolutionScale:l,enabled:d=!0,renderPriority:B=1,autoClear:h=!0,depthBuffer:f,disableNormalPass:C,stencilBuffer:p,multisampling:m=8,frameBufferType:g=o.HalfFloatType}=e;const{gl:M,scene:F,camera:E,size:G}=(0,i.w)();u=u||F,a=a||E;const[I,y,R]=(0,r.useMemo)((()=>{const e=c(),t=new s.xC(M,{depthBuffer:f,stencilBuffer:p,multisampling:m>0&&e?m:0,frameBufferType:g});t.addPass(new s.CD(u,a));let n=null,r=null;return C||(r=new s.gh(u,a),r.enabled=!1,t.addPass(r),void 0!==l&&e&&(n=new s.xs({normalBuffer:r.texture,resolutionScale:l}),n.enabled=!1,t.addPass(n))),[t,r,n]}),[a,M,f,p,m,g,u,C,l]);(0,r.useEffect)((()=>null==I?void 0:I.setSize(G.width,G.height)),[I,G]),(0,i.x)(((e,t)=>{d&&(M.autoClear=h,I.render(t))}),d?B:0);const D=(0,r.useRef)(null);(0,r.useLayoutEffect)((()=>{let e;return D.current&&D.current.__r3f&&I&&(e=new s.H5(a,...D.current.__r3f.objects),e.renderToScreen=!0,I.addPass(e),y&&(y.enabled=!0),R&&(R.enabled=!0)),()=>{e&&(null==I||I.removePass(e)),y&&(y.enabled=!1),R&&(R.enabled=!1)}}),[I,n,a,y,R]);const b=(0,r.useMemo)((()=>({composer:I,normalPass:y,downSamplingPass:R,resolutionScale:l,camera:a,scene:u})),[I,y,R,l,a,u]);return(0,r.useImperativeHandle)(t,(()=>I),[I]),r.createElement(A.Provider,{value:b},r.createElement("group",{ref:D},n))})));u(s.ol),u(s.JL),u(s.xV,s.YQ.COLOR_DODGE);u(s.p$,s.YQ.OVERLAY),u(s.wL),u(s.M4);const B=u(s.Dd);u(s.Uy)},9396:function(e,t,n){function s(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}n.d(t,{Z:function(){return s}})},9534:function(e,t,n){function s(e,t){if(null==e)return{};var n,s,r=function(e,t){if(null==e)return{};var n,s,r={},o=Object.keys(e);for(s=0;s<o.length;s++)n=o[s],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}n.d(t,{Z:function(){return s}})},9542:function(e,t,n){n.d(t,{DO:function(){return r},u1:function(){return o}});const s=[];for(let i=0;i<256;i++)s[i]=(i<16?"0":"")+i.toString(16);Math.PI,Math.PI;function r(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(s[255&e]+s[e>>8&255]+s[e>>16&255]+s[e>>24&255]+"-"+s[255&t]+s[t>>8&255]+"-"+s[t>>16&15|64]+s[t>>24&255]+"-"+s[63&n|128]+s[n>>8&255]+"-"+s[n>>16&255]+s[n>>24&255]+s[255&r]+s[r>>8&255]+s[r>>16&255]+s[r>>24&255]).toLowerCase()}function o(e,t,n,s){return function(e,t,n){return(1-n)*e+n*t}(e,t,1-Math.exp(-n*s))}}}]);